(function(t){function e(e){for(var a,o,r=e[0],c=e[1],l=e[2],d=0,m=[];d<r.length;d++)o=r[d],Object.prototype.hasOwnProperty.call(n,o)&&n[o]&&m.push(n[o][0]),n[o]=0;for(a in c)Object.prototype.hasOwnProperty.call(c,a)&&(t[a]=c[a]);u&&u(e);while(m.length)m.shift()();return i.push.apply(i,l||[]),s()}function s(){for(var t,e=0;e<i.length;e++){for(var s=i[e],a=!0,r=1;r<s.length;r++){var c=s[r];0!==n[c]&&(a=!1)}a&&(i.splice(e--,1),t=o(o.s=s[0]))}return t}var a={},n={app:0},i=[];function o(e){if(a[e])return a[e].exports;var s=a[e]={i:e,l:!1,exports:{}};return t[e].call(s.exports,s,s.exports,o),s.l=!0,s.exports}o.m=t,o.c=a,o.d=function(t,e,s){o.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:s})},o.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},o.t=function(t,e){if(1&e&&(t=o(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var s=Object.create(null);if(o.r(s),Object.defineProperty(s,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var a in t)o.d(s,a,function(e){return t[e]}.bind(null,a));return s},o.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return o.d(e,"a",e),e},o.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},o.p="/";var r=window["webpackJsonp"]=window["webpackJsonp"]||[],c=r.push.bind(r);r.push=e,r=r.slice();for(var l=0;l<r.length;l++)e(r[l]);var u=c;i.push([0,"chunk-vendors"]),s()})({0:function(t,e,s){t.exports=s("56d7")},"00af":function(t,e,s){"use strict";var a=s("095f"),n=s.n(a);n.a},"095f":function(t,e,s){},"0e4f":function(t,e,s){"use strict";var a=s("d43a"),n=s.n(a);n.a},"15da":function(t,e,s){"use strict";var a=s("54f7"),n=s.n(a);n.a},"2c3d":function(t,e,s){},3165:function(t,e,s){"use strict";var a=s("8e87"),n=s.n(a);n.a},"34b7":function(t,e,s){},"3e76":function(t,e,s){},4678:function(t,e,s){var a={"./af":"2bfb","./af.js":"2bfb","./ar":"8e73","./ar-dz":"a356","./ar-dz.js":"a356","./ar-kw":"423e","./ar-kw.js":"423e","./ar-ly":"1cfd","./ar-ly.js":"1cfd","./ar-ma":"0a84","./ar-ma.js":"0a84","./ar-sa":"8230","./ar-sa.js":"8230","./ar-tn":"6d83","./ar-tn.js":"6d83","./ar.js":"8e73","./az":"485c","./az.js":"485c","./be":"1fc1","./be.js":"1fc1","./bg":"84aa","./bg.js":"84aa","./bm":"a7fa","./bm.js":"a7fa","./bn":"9043","./bn.js":"9043","./bo":"d26a","./bo.js":"d26a","./br":"6887","./br.js":"6887","./bs":"2554","./bs.js":"2554","./ca":"d716","./ca.js":"d716","./cs":"3c0d","./cs.js":"3c0d","./cv":"03ec","./cv.js":"03ec","./cy":"9797","./cy.js":"9797","./da":"0f14","./da.js":"0f14","./de":"b469","./de-at":"b3eb","./de-at.js":"b3eb","./de-ch":"bb71","./de-ch.js":"bb71","./de.js":"b469","./dv":"598a","./dv.js":"598a","./el":"8d47","./el.js":"8d47","./en-SG":"cdab","./en-SG.js":"cdab","./en-au":"0e6b","./en-au.js":"0e6b","./en-ca":"3886","./en-ca.js":"3886","./en-gb":"39a6","./en-gb.js":"39a6","./en-ie":"e1d3","./en-ie.js":"e1d3","./en-il":"7333","./en-il.js":"7333","./en-nz":"6f50","./en-nz.js":"6f50","./eo":"65db","./eo.js":"65db","./es":"898b","./es-do":"0a3c","./es-do.js":"0a3c","./es-us":"55c9","./es-us.js":"55c9","./es.js":"898b","./et":"ec18","./et.js":"ec18","./eu":"0ff2","./eu.js":"0ff2","./fa":"8df4","./fa.js":"8df4","./fi":"81e9","./fi.js":"81e9","./fo":"0721","./fo.js":"0721","./fr":"9f26","./fr-ca":"d9f8","./fr-ca.js":"d9f8","./fr-ch":"0e49","./fr-ch.js":"0e49","./fr.js":"9f26","./fy":"7118","./fy.js":"7118","./ga":"5120","./ga.js":"5120","./gd":"f6b4","./gd.js":"f6b4","./gl":"8840","./gl.js":"8840","./gom-latn":"0caa","./gom-latn.js":"0caa","./gu":"e0c5","./gu.js":"e0c5","./he":"c7aa","./he.js":"c7aa","./hi":"dc4d","./hi.js":"dc4d","./hr":"4ba9","./hr.js":"4ba9","./hu":"5b14","./hu.js":"5b14","./hy-am":"d6b6","./hy-am.js":"d6b6","./id":"5038","./id.js":"5038","./is":"0558","./is.js":"0558","./it":"6e98","./it-ch":"6f12","./it-ch.js":"6f12","./it.js":"6e98","./ja":"079e","./ja.js":"079e","./jv":"b540","./jv.js":"b540","./ka":"201b","./ka.js":"201b","./kk":"6d79","./kk.js":"6d79","./km":"e81d","./km.js":"e81d","./kn":"3e92","./kn.js":"3e92","./ko":"22f8","./ko.js":"22f8","./ku":"2421","./ku.js":"2421","./ky":"9609","./ky.js":"9609","./lb":"440c","./lb.js":"440c","./lo":"b29d","./lo.js":"b29d","./lt":"26f9","./lt.js":"26f9","./lv":"b97c","./lv.js":"b97c","./me":"293c","./me.js":"293c","./mi":"688b","./mi.js":"688b","./mk":"6909","./mk.js":"6909","./ml":"02fb","./ml.js":"02fb","./mn":"958b","./mn.js":"958b","./mr":"39bd","./mr.js":"39bd","./ms":"ebe4","./ms-my":"6403","./ms-my.js":"6403","./ms.js":"ebe4","./mt":"1b45","./mt.js":"1b45","./my":"8689","./my.js":"8689","./nb":"6ce3","./nb.js":"6ce3","./ne":"3a39","./ne.js":"3a39","./nl":"facd","./nl-be":"db29","./nl-be.js":"db29","./nl.js":"facd","./nn":"b84c","./nn.js":"b84c","./pa-in":"f3ff","./pa-in.js":"f3ff","./pl":"8d57","./pl.js":"8d57","./pt":"f260","./pt-br":"d2d4","./pt-br.js":"d2d4","./pt.js":"f260","./ro":"972c","./ro.js":"972c","./ru":"957c","./ru.js":"957c","./sd":"6784","./sd.js":"6784","./se":"ffff","./se.js":"ffff","./si":"eda5","./si.js":"eda5","./sk":"7be6","./sk.js":"7be6","./sl":"8155","./sl.js":"8155","./sq":"c8f3","./sq.js":"c8f3","./sr":"cf1e","./sr-cyrl":"13e9","./sr-cyrl.js":"13e9","./sr.js":"cf1e","./ss":"52bd","./ss.js":"52bd","./sv":"5fbd","./sv.js":"5fbd","./sw":"74dc","./sw.js":"74dc","./ta":"3de5","./ta.js":"3de5","./te":"5cbb","./te.js":"5cbb","./tet":"576c","./tet.js":"576c","./tg":"3b1b","./tg.js":"3b1b","./th":"10e8","./th.js":"10e8","./tl-ph":"0f38","./tl-ph.js":"0f38","./tlh":"cf75","./tlh.js":"cf75","./tr":"0e81","./tr.js":"0e81","./tzl":"cf51","./tzl.js":"cf51","./tzm":"c109","./tzm-latn":"b53d","./tzm-latn.js":"b53d","./tzm.js":"c109","./ug-cn":"6117","./ug-cn.js":"6117","./uk":"ada2","./uk.js":"ada2","./ur":"5294","./ur.js":"5294","./uz":"2e8c","./uz-latn":"010e","./uz-latn.js":"010e","./uz.js":"2e8c","./vi":"2921","./vi.js":"2921","./x-pseudo":"fd7e","./x-pseudo.js":"fd7e","./yo":"7f33","./yo.js":"7f33","./zh-cn":"5c3a","./zh-cn.js":"5c3a","./zh-hk":"49ab","./zh-hk.js":"49ab","./zh-tw":"90ea","./zh-tw.js":"90ea"};function n(t){var e=i(t);return s(e)}function i(t){if(!s.o(a,t)){var e=new Error("Cannot find module '"+t+"'");throw e.code="MODULE_NOT_FOUND",e}return a[t]}n.keys=function(){return Object.keys(a)},n.resolve=i,t.exports=n,n.id="4678"},"4ab9":function(t,e,s){},"4ffd":function(t,e,s){t.exports=s.p+"img/logo.5ef1726b.png"},"54f7":function(t,e,s){},"56d7":function(t,e,s){"use strict";s.r(e);s("e260"),s("e6cf"),s("cca6"),s("a79d");var a=s("2b0e"),n=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{attrs:{id:"app"}},[s("div",{class:["wrapper",t.visible?"section-lk":"section-login"]},[t.visible?s("sidebar"):t._e(),s("router-view")],1),s("log-handler")],1)},i=[],o=(s("d3b7"),function(){var t=this,e=t.$createElement,a=t._self._c||e;return t.isLoaded?a("aside",[a("div",{staticClass:"logo"},[a("router-link",{attrs:{to:"/"}},[a("img",{attrs:{src:s("4ffd"),alt:"logo"}})])],1),a("navs"),t.$route.meta.IS_ADMIN?t._e():a("footer",[a("a",{staticClass:"color-gray",attrs:{href:"tel:"+t.system.phone}},[t._v(t._s(t.system.phone))]),a("a",{staticClass:"color-gray",attrs:{href:"mailto:"+t.system.email}},[t._v(t._s(t.system.email))])])],1):t._e()}),r=[],c=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("nav",[a("ul",[t.$route.meta.IS_ADMIN?t._e():a("router-link",{attrs:{to:"/account"},scopedSlots:t._u([{key:"default",fn:function(e){var n=e.href,i=(e.route,e.navigate),o=(e.isActive,e.isExactActive);return[a("li",{staticClass:"profile",class:[o&&"current"]},[a("a",{attrs:{href:n},on:{click:i}},[t.user.image_url?a("img",{attrs:{src:t.$store.getters.URL+"/"+t.user.image_url,alt:"user"}}):a("img",{attrs:{src:s("857f"),alt:"user"}}),a("p",[t._v(t._s(t.user.surname)+" "+t._s(t.user.name))]),a("a",{staticClass:"href",attrs:{href:n},on:{click:i}},[t._v("Личный кабинет")])])])]}}],null,!1,589368537)}),t.$route.meta.IS_ADMIN?a("h4",[t._v("Админ панель")]):t._e(),t.$route.meta.IS_ADMIN?[a("router-link",{attrs:{to:"/admin"},scopedSlots:t._u([{key:"default",fn:function(e){var s=e.href,n=(e.route,e.navigate),i=(e.isActive,e.isExactActive);return[a("li",{class:[i&&"current"]},[a("a",{staticClass:"href",attrs:{href:s},on:{click:n}},[t._v("Список клиентов")])])]}}])}),a("router-link",{attrs:{to:"/admin/purchases"},scopedSlots:t._u([{key:"default",fn:function(e){var s=e.href,n=(e.route,e.navigate),i=(e.isActive,e.isExactActive);return[a("li",{class:[i&&"current"]},[a("a",{staticClass:"href",attrs:{href:s},on:{click:n}},[t._v("Все закупки")])])]}}])}),a("router-link",{attrs:{to:"/admin/messages"},scopedSlots:t._u([{key:"default",fn:function(e){var s=e.href,n=(e.route,e.navigate),i=(e.isActive,e.isExactActive);return[a("li",{class:[i&&"current"]},[a("a",{staticClass:"href",attrs:{href:s},on:{click:n}},[t._v("Чат "),a("b",{staticClass:"color-green"},[t._v("+3")])])])]}}])}),a("router-link",{attrs:{to:"/admin/handbooks"},scopedSlots:t._u([{key:"default",fn:function(e){var s=e.href,n=(e.route,e.navigate),i=(e.isActive,e.isExactActive);return[a("li",{class:[i&&"current"]},[a("a",{staticClass:"href",attrs:{href:s},on:{click:n}},[t._v("Справочники")])])]}}])})]:[a("router-link",{attrs:{to:"/"},scopedSlots:t._u([{key:"default",fn:function(e){var s=e.href,n=(e.route,e.navigate),i=(e.isActive,e.isExactActive);return[a("li",{class:[i&&"current"]},[a("a",{staticClass:"href",attrs:{href:s},on:{click:n}},[t._v("Главный экран")])])]}}],null,!1,1433420656)}),a("router-link",{attrs:{to:"/history/purchases"},scopedSlots:t._u([{key:"default",fn:function(e){var s=e.href,n=(e.route,e.navigate),i=(e.isActive,e.isExactActive);return[a("li",{class:[i&&"current"]},[a("a",{staticClass:"href",attrs:{href:s},on:{click:n}},[t._v("История закупок")])])]}}],null,!1,3333797304)}),a("router-link",{attrs:{to:"/chats"},scopedSlots:t._u([{key:"default",fn:function(e){var s=e.href,n=(e.route,e.navigate),i=(e.isActive,e.isExactActive);return[a("li",{class:[i&&"current"]},[a("a",{staticClass:"href",attrs:{href:s},on:{click:n}},[t._v("Чат "),a("b",{staticClass:"color-green"},[t._v("+3")])])])]}}],null,!1,264431006)})],t.user.permission>=9?a("div",{staticClass:"permission"},[t.$route.meta.IS_ADMIN?a("router-link",{attrs:{to:"/"},scopedSlots:t._u([{key:"default",fn:function(e){var s=e.href,n=(e.route,e.navigate);e.isActive,e.isExactActive;return[a("li",[a("a",{staticClass:"href linked-icon",attrs:{href:s},on:{click:n}},[a("i",{staticClass:"icon icon-exit"}),t._v("Выйти из панели ")])])]}}],null,!1,534234214)}):a("router-link",{attrs:{to:"/admin"},scopedSlots:t._u([{key:"default",fn:function(e){var s=e.href,n=(e.route,e.navigate);e.isActive,e.isExactActive;return[a("li",[a("a",{staticClass:"href linked-icon",attrs:{href:s},on:{click:n}},[a("i",{staticClass:"icon icon-exit"}),t._v("Панель администратора ")])])]}}],null,!1,2068691773)})],1):t._e()],2)])},l=[],u={name:"Navs",data:function(){return{user:this.$store.getters.GET_USER}}},d=u,m=(s("7b89"),s("2877")),p=Object(m["a"])(d,c,l,!1,null,"5bc99ac9",null),v=p.exports,h=s("bc3a"),f=s.n(h),_={name:"Sidebar",components:{Navs:v},data:function(){return{isLoaded:!1,system:this.$store.getters.GET_SYSTEM}},created:function(){var t=this;f.a.get("user/".concat(this.$store.getters.GET_USER_ID)).then((function(e){t.$store.dispatch("UPDATE_USER",e.data),t.isLoaded=!0})).catch((function(e){t.$store.commit("ADD_HANDLER",{text:"Ошибка получения данных... "+e,classes:"error"})}))}},g=_,$=(s("a264"),Object(m["a"])(g,o,r,!1,null,"44801d41",null)),b=$.exports,x=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"alert"},t._l(t.getHandlers,(function(e,a){return s("handler",{key:a,attrs:{classes:e.classes,index:a}},[t._v(t._s(e.text))])})),1)},y=[],C=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{on:{click:t.remove}},[s("div",{class:["item",t.classes]},[s("p",[t._t("default")],2),s("i",{staticClass:"icon icon-close"})])])},k=[],w={name:"handler",props:["classes","index"],created:function(){var t=this;return new Promise((function(){setTimeout((function(){t.$store.commit("REMOVE_HANDLER",t.index)}),5e3)}))},methods:{remove:function(){this.$store.commit("REMOVE_HANDLER",this.index)}}},L=w,A=(s("a36b"),Object(m["a"])(L,C,k,!1,null,"326b04fd",null)),D=A.exports,S={name:"LogHandler",components:{Handler:D},computed:{getHandlers:function(){return this.$store.getters.GET_HANDLERS}}},j=S,E=(s("d40a"),Object(m["a"])(j,x,y,!1,null,"48a8e1ca",null)),P=E.exports,O={name:"app",components:{LogHandler:P,Sidebar:b},data:function(){return{visible:this.$store.getters.IS_LOGIN}},created:function(){var t=this,e=this;f.a.interceptors.response.use(void 0,(function(t){return new Promise((function(){throw 401===t.response.status&&t.response.config&&!t.response.config.__isRetryRequest&&e.$store.dispatch("REFRESH_TOKEN").then((function(t){return e.$router.go(t)})).catch((function(){e.$router.push("/login"),e.$store.commit("ADD_HANDLER",{text:"Время жизни сессии истекло.",classes:"error"}),e.visible=!1})),t}))})),f.a.get("system").then((function(e){t.$store.dispatch("UPDATE_SYSTEM",e.data)}))}},N=O,I=(s("5c0b"),Object(m["a"])(N,n,i,!1,null,null,null)),M=I.exports,R=(s("99af"),s("45fc"),s("b0c0"),s("8c4f")),T=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[t._m(0),a("section",[a("div",{staticClass:"container"},[a("div",{staticClass:"flex"},[a("div",{staticClass:"win-left flex flex-column align-items-center"},[a("window",[a("div",{staticClass:"flex justify-content-center flex-column align-items-center"},[a("header",[a("a",{attrs:{href:"/"}},[a("img",{attrs:{width:"224px",src:s("4ffd"),alt:"Выгодный контакт"}})])]),a("main",[a("div",{staticClass:"mb-10 form-default flex flex-column"},[a("label",{staticClass:"input-default mb-5",class:{invalid:t.$v.login.$error}},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.$v.login.$model,expression:"$v.login.$model"}],attrs:{type:"text",placeholder:"Логин"},domProps:{value:t.$v.login.$model},on:{input:function(e){e.target.composing||t.$set(t.$v.login,"$model",e.target.value)}}}),t.$v.login.$error?a("div",{staticClass:"errors"},[t.$v.login.hasOwnProperty("minLength")&&!t.$v.login.minLength?a("span",[t._v("* Не менее "+t._s(t.$v.login.$params.minLength.min)+" символов")]):t._e(),t.$v.login.hasOwnProperty("maxLength")&&!t.$v.login.maxLength?a("span",[t._v("* Не более "+t._s(t.$v.login.$params.maxLength.max)+" символов")]):t._e()]):t._e()]),a("label",{staticClass:"input-default mb-5",class:{invalid:t.$v.password.$error}},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.$v.password.$model,expression:"$v.password.$model"}],attrs:{type:"password",placeholder:"Пароль"},domProps:{value:t.$v.password.$model},on:{input:function(e){e.target.composing||t.$set(t.$v.password,"$model",e.target.value)}}}),t.$v.password.$error?a("div",{staticClass:"errors"},[t.$v.password.hasOwnProperty("minLength")&&!t.$v.password.minLength?a("span",[t._v("* Не менее "+t._s(t.$v.password.$params.minLength.min)+" символов")]):t._e(),t.$v.password.hasOwnProperty("maxLength")&&!t.$v.password.maxLength?a("span",[t._v("* Не более "+t._s(t.$v.password.$params.maxLength.max)+" символов")]):t._e()]):t._e()]),a("div",{staticClass:"mt-5 flex justify-content-center"},[a("button",{staticClass:"btn btn-green",attrs:{type:"submit"},on:{click:t.handleLogin}},[t._v("Войти")])]),a("div",{staticClass:"text-center flex align-items-center justify-content-center"},[a("p",{staticClass:"pt-4 color-red",attrs:{id:"output"}})])]),a("a",{staticClass:"mt-5 flex align-items-center justify-content-center fs-16",attrs:{id:"login-social-esia",href:"#"}},[a("img",{attrs:{src:s("7c2c"),alt:"гос. услуги"}}),a("p",{staticClass:"ml-5 color-gray"},[t._v("Войти с помощью ЕСИА")])])])])]),a("p",{staticClass:"target mt-10 color-white"},[a("router-link",{staticClass:"link",attrs:{to:"/register"}},[t._v("Создать аккаунт")])],1)],1),t._m(1)])])]),t._m(2)])},U=[function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("header",{staticClass:"fixed-header"},[s("div",{staticClass:"container"},[s("a",{staticClass:"link",attrs:{href:"/"}},[s("i",{staticClass:"icon icon-arrow-left color-green mr-5"}),t._v("Вернуться на сайт")])])])},function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"pl-10 ml-10 flex flex-column color-white description-block"},[s("h1",[t._v("Ваш тендерный отдел на расстоянии")]),s("p",[t._v("Поможем начинающим и опытным поставщикам на любом этапе торгов: от анализа закупки до участия в аукционе и защиты интересов в ФАС.")])])},function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("footer",{staticClass:"fixed-footer"},[s("div",{staticClass:"container flex justify-content-center align-items-center"},[s("p",{staticClass:"copyright"},[t._v("Разработано в 2020")])])])}],q=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"window"},[t._t("default")],2)},H=[],z={name:"Window"},G=z,F=(s("c9c0"),Object(m["a"])(G,q,H,!1,null,"2f89a189",null)),Y=F.exports,B=s("b5ae"),K={name:"login",components:{Window:Y},data:function(){return{login:"",password:""}},validations:{login:{required:B["required"],minLength:Object(B["minLength"])(3),maxLength:Object(B["maxLength"])(32)},password:{required:B["required"],minLength:Object(B["minLength"])(6),maxLength:Object(B["maxLength"])(128)}},methods:{handleLogin:function(){var t=this;if(!this.$v.$error){var e=this.login,s=this.password;this.$store.dispatch("AUTH_REQUEST",{login:e,password:s}).then((function(e){return t.$router.go(e)})).catch((function(e){t.$store.commit("ADD_HANDLER",{text:e.response.data.message,classes:"error"})}))}}}},W=K,J=(s("59fe"),Object(m["a"])(W,T,U,!1,null,"01d2d0e5",null)),X=J.exports,V=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",[t._m(0),s("section",[s("div",{staticClass:"container"},[s("div",{staticClass:"flex"},[s("div",{staticClass:"win-left flex flex-column align-items-center"},[s("window",[s("div",{staticClass:"flex justify-content-center flex-column align-items-center"},[s("header",[t.steps.count>1?s("button",{staticClass:"btn-back color-gray",on:{click:function(e){t.steps.count--}}},[s("i",{staticClass:"icon icon-arrow-left color-green"})]):t._e(),s("p",{staticClass:"steps"},[t._v(" Шаг "+t._s(t.steps.count)+" из 4")]),s("div",{class:["progress","step-"+t.steps.count]})]),1===t.steps.count?s("main",[s("label",{staticClass:"input-default",class:{invalid:t.$v.steps["1"].full_name.$error}},[s("input",{directives:[{name:"model",rawName:"v-model",value:t.$v.steps["1"].full_name.$model,expression:"$v.steps['1'].full_name.$model"}],attrs:{type:"text",placeholder:"ФИО *"},domProps:{value:t.$v.steps["1"].full_name.$model},on:{input:function(e){e.target.composing||t.$set(t.$v.steps["1"].full_name,"$model",e.target.value)}}}),t.$v.steps["1"].full_name.$error?s("div",{staticClass:"errors"},[t.$v.steps["1"].full_name.hasOwnProperty("minLength")&&!t.$v.steps["1"].full_name.minLength?s("span",[t._v("* Не менее "+t._s(t.$v.steps["1"].full_name.$params.minLength.min)+" символов")]):t._e(),t.$v.steps["1"].full_name.hasOwnProperty("maxLength")&&!t.$v.steps["1"].full_name.maxLength?s("span",[t._v("* Не более "+t._s(t.$v.steps["1"].full_name.$params.maxLength.max)+" символов")]):t._e()]):t._e()]),s("label",{staticClass:"input-default",class:{invalid:t.$v.steps["1"].position.$error}},[s("input",{directives:[{name:"model",rawName:"v-model",value:t.$v.steps["1"].position.$model,expression:"$v.steps['1'].position.$model"}],attrs:{type:"text",placeholder:"Должность *"},domProps:{value:t.$v.steps["1"].position.$model},on:{input:function(e){e.target.composing||t.$set(t.$v.steps["1"].position,"$model",e.target.value)}}}),t.$v.steps["1"].position.$error?s("div",{staticClass:"errors"},[t.$v.steps["1"].position.hasOwnProperty("minLength")&&!t.$v.steps["1"].position.minLength?s("span",[t._v("* Не менее "+t._s(t.$v.steps["1"].position.$params.minLength.min)+" символов")]):t._e(),t.$v.steps["1"].position.hasOwnProperty("maxLength")&&!t.$v.steps["1"].position.maxLength?s("span",[t._v("* Не более "+t._s(t.$v.steps["1"].position.$params.maxLength.max)+" символов")]):t._e()]):t._e()]),s("div",{staticClass:"types"},[s("label",[s("span",[t._v("Тип клиента")])]),s("div",{staticClass:"grid"},[s("div",{staticClass:"checkbox-custom small"},[s("label",[s("input",{attrs:{type:"checkbox",hidden:""}}),s("div",{staticClass:"checkbox"}),s("p",[t._v("Заказчик 44-ФЗ")])])]),s("div",{staticClass:"checkbox-custom small"},[s("label",[s("input",{attrs:{type:"checkbox",hidden:""}}),s("div",{staticClass:"checkbox"}),s("p",[t._v("Заказчик 223-ФЗ")])])]),s("div",{staticClass:"checkbox-custom small"},[s("label",[s("input",{attrs:{type:"checkbox",hidden:""}}),s("div",{staticClass:"checkbox"}),s("p",[t._v("Иные")])])]),s("div",{staticClass:"checkbox-custom small"},[s("label",[s("input",{attrs:{type:"checkbox",hidden:""}}),s("div",{staticClass:"checkbox"}),s("p",[t._v("Поставщик")])])])])]),s("div",{staticClass:"mt-5 flex justify-content-center"},[s("button",{staticClass:"btn btn-green",on:{click:function(e){return t.validate(1)}}},[t._v("Далее")])])]):t._e(),2===t.steps.count?s("main",[s("label",{staticClass:"input-default",class:{invalid:t.$v.steps["2"].name_company.$error}},[s("input",{directives:[{name:"model",rawName:"v-model",value:t.$v.steps["2"].name_company.$model,expression:"$v.steps['2'].name_company.$model"}],attrs:{type:"text",placeholder:"Название организации *"},domProps:{value:t.$v.steps["2"].name_company.$model},on:{input:function(e){e.target.composing||t.$set(t.$v.steps["2"].name_company,"$model",e.target.value)}}}),t.$v.steps["2"].name_company.$error?s("div",{staticClass:"errors"},[t.$v.steps["2"].name_company.hasOwnProperty("minLength")&&!t.$v.steps["2"].name_company.minLength?s("span",[t._v("* Не менее "+t._s(t.$v.steps["2"].name_company.$params.minLength.min)+" символов")]):t._e(),t.$v.steps["2"].name_company.hasOwnProperty("maxLength")&&!t.$v.steps["2"].name_company.maxLength?s("span",[t._v("* Не более "+t._s(t.$v.steps["2"].name_company.$params.maxLength.max)+" символов")]):t._e()]):t._e()]),s("label",{staticClass:"input-default",class:{invalid:t.$v.steps["2"].address.$error}},[s("input",{directives:[{name:"model",rawName:"v-model",value:t.$v.steps["2"].address.$model,expression:"$v.steps['2'].address.$model"}],attrs:{type:"text",placeholder:"Адрес *"},domProps:{value:t.$v.steps["2"].address.$model},on:{input:function(e){e.target.composing||t.$set(t.$v.steps["2"].address,"$model",e.target.value)}}}),t.$v.steps["2"].address.$error?s("div",{staticClass:"errors"},[t.$v.steps["2"].address.hasOwnProperty("minLength")&&!t.$v.steps["2"].address.minLength?s("span",[t._v("* Не менее "+t._s(t.$v.steps["2"].address.$params.minLength.min)+" символов")]):t._e(),t.$v.steps["2"].address.hasOwnProperty("maxLength")&&!t.$v.steps["2"].address.maxLength?s("span",[t._v("* Не более "+t._s(t.$v.steps["2"].address.$params.maxLength.max)+" символов")]):t._e()]):t._e()]),s("label",{staticClass:"input-default",class:{invalid:t.$v.steps["2"].taxpayer_identification_number.$error}},[s("input",{directives:[{name:"model",rawName:"v-model",value:t.$v.steps["2"].taxpayer_identification_number.$model,expression:"$v.steps['2'].taxpayer_identification_number.$model"}],attrs:{type:"text",placeholder:"ИНН *"},domProps:{value:t.$v.steps["2"].taxpayer_identification_number.$model},on:{input:function(e){e.target.composing||t.$set(t.$v.steps["2"].taxpayer_identification_number,"$model",e.target.value)}}}),t.$v.steps["2"].taxpayer_identification_number.$error?s("div",{staticClass:"errors"},[t.$v.steps["2"].taxpayer_identification_number.hasOwnProperty("numeric")&&!t.$v.steps["2"].taxpayer_identification_number.numeric?s("span",[t._v("* Разрешены только цифры")]):t._e(),t.$v.steps["2"].taxpayer_identification_number.hasOwnProperty("minLength")&&!t.$v.steps["2"].taxpayer_identification_number.minLength?s("span",[t._v("* Не менее "+t._s(t.$v.steps["2"].taxpayer_identification_number.$params.minLength.min)+" символов")]):t._e(),t.$v.steps["2"].taxpayer_identification_number.hasOwnProperty("maxLength")&&!t.$v.steps["2"].taxpayer_identification_number.maxLength?s("span",[t._v("* Не более "+t._s(t.$v.steps["2"].taxpayer_identification_number.$params.maxLength.max)+" символов")]):t._e()]):t._e()]),s("label",{staticClass:"input-default",class:{invalid:t.$v.steps["2"].code_reason.$error}},[s("input",{directives:[{name:"model",rawName:"v-model",value:t.$v.steps["2"].code_reason.$model,expression:"$v.steps['2'].code_reason.$model"}],attrs:{type:"text",placeholder:"КПП *"},domProps:{value:t.$v.steps["2"].code_reason.$model},on:{input:function(e){e.target.composing||t.$set(t.$v.steps["2"].code_reason,"$model",e.target.value)}}}),t.$v.steps["2"].code_reason.$error?s("div",{staticClass:"errors"},[t.$v.steps["2"].code_reason.hasOwnProperty("numeric")&&!t.$v.steps["2"].code_reason.numeric?s("span",[t._v("* Разрешены только цифры")]):t._e(),t.$v.steps["2"].code_reason.hasOwnProperty("minLength")&&!t.$v.steps["2"].code_reason.minLength?s("span",[t._v("* Не менее "+t._s(t.$v.steps["2"].code_reason.$params.minLength.min)+" символов")]):t._e(),t.$v.steps["2"].code_reason.hasOwnProperty("maxLength")&&!t.$v.steps["2"].code_reason.maxLength?s("span",[t._v("* Не более "+t._s(t.$v.steps["2"].code_reason.$params.maxLength.max)+" символов")]):t._e()]):t._e()]),s("div",{staticClass:"mt-5 flex justify-content-center"},[s("button",{staticClass:"btn btn-green",on:{click:function(e){return t.validate(2)}}},[t._v("Далее")])])]):t._e(),3===t.steps.count?s("main",[s("label",{staticClass:"input-default",class:{invalid:t.$v.steps["3"].name_bank.$error}},[s("input",{directives:[{name:"model",rawName:"v-model",value:t.$v.steps["3"].name_bank.$model,expression:"$v.steps['3'].name_bank.$model"}],attrs:{type:"text",placeholder:"Наименование банка *"},domProps:{value:t.$v.steps["3"].name_bank.$model},on:{input:function(e){e.target.composing||t.$set(t.$v.steps["3"].name_bank,"$model",e.target.value)}}}),t.$v.steps["3"].name_bank.$error?s("div",{staticClass:"errors"},[t.$v.steps["3"].name_bank.hasOwnProperty("minLength")&&!t.$v.steps["3"].name_bank.minLength?s("span",[t._v("* Не менее "+t._s(t.$v.steps["3"].name_bank.$params.minLength.min)+" символов")]):t._e(),t.$v.steps["3"].name_bank.hasOwnProperty("maxLength")&&!t.$v.steps["3"].name_bank.maxLength?s("span",[t._v("* Не более "+t._s(t.$v.steps["3"].name_bank.$params.maxLength.max)+" символов")]):t._e()]):t._e()]),s("label",{staticClass:"input-default",class:{invalid:t.$v.steps["3"].payment_account.$error}},[s("input",{directives:[{name:"model",rawName:"v-model",value:t.$v.steps["3"].payment_account.$model,expression:"$v.steps['3'].payment_account.$model"}],attrs:{type:"text",placeholder:"Расчётный счёт *"},domProps:{value:t.$v.steps["3"].payment_account.$model},on:{input:function(e){e.target.composing||t.$set(t.$v.steps["3"].payment_account,"$model",e.target.value)}}}),t.$v.steps["3"].payment_account.$error?s("div",{staticClass:"errors"},[t.$v.steps["3"].payment_account.hasOwnProperty("numeric")&&!t.$v.steps["3"].payment_account.numeric?s("span",[t._v("* Разрешены только цифры")]):t._e(),t.$v.steps["3"].payment_account.hasOwnProperty("minLength")&&!t.$v.steps["3"].payment_account.minLength?s("span",[t._v("* Не менее "+t._s(t.$v.steps["3"].payment_account.$params.minLength.min)+" символов")]):t._e(),t.$v.steps["3"].payment_account.hasOwnProperty("maxLength")&&!t.$v.steps["3"].payment_account.maxLength?s("span",[t._v("* Не более "+t._s(t.$v.steps["3"].payment_account.$params.maxLength.max)+" символов")]):t._e()]):t._e()]),s("label",{staticClass:"input-default",class:{invalid:t.$v.steps["3"].correspondent_account.$error}},[s("input",{directives:[{name:"model",rawName:"v-model",value:t.$v.steps["3"].correspondent_account.$model,expression:"$v.steps['3'].correspondent_account.$model"}],attrs:{type:"text",placeholder:"Корреспондентский счёт *"},domProps:{value:t.$v.steps["3"].correspondent_account.$model},on:{input:function(e){e.target.composing||t.$set(t.$v.steps["3"].correspondent_account,"$model",e.target.value)}}}),t.$v.steps["3"].correspondent_account.$error?s("div",{staticClass:"errors"},[t.$v.steps["3"].correspondent_account.hasOwnProperty("numeric")&&!t.$v.steps["3"].correspondent_account.numeric?s("span",[t._v("* Разрешены только цифры")]):t._e(),t.$v.steps["3"].correspondent_account.hasOwnProperty("minLength")&&!t.$v.steps["3"].correspondent_account.minLength?s("span",[t._v("* Не менее "+t._s(t.$v.steps["3"].correspondent_account.$params.minLength.min)+" символов")]):t._e(),t.$v.steps["3"].correspondent_account.hasOwnProperty("maxLength")&&!t.$v.steps["3"].correspondent_account.maxLength?s("span",[t._v("* Не более "+t._s(t.$v.steps["3"].correspondent_account.$params.maxLength.max)+" символов")]):t._e()]):t._e()]),s("label",{staticClass:"input-default",class:{invalid:t.$v.steps["3"].bank_identification_code.$error}},[s("input",{directives:[{name:"model",rawName:"v-model",value:t.$v.steps["3"].bank_identification_code.$model,expression:"$v.steps['3'].bank_identification_code.$model"}],attrs:{type:"text",placeholder:"БИК *"},domProps:{value:t.$v.steps["3"].bank_identification_code.$model},on:{input:function(e){e.target.composing||t.$set(t.$v.steps["3"].bank_identification_code,"$model",e.target.value)}}}),t.$v.steps["3"].bank_identification_code.$error?s("div",{staticClass:"errors"},[t.$v.steps["3"].bank_identification_code.hasOwnProperty("numeric")&&!t.$v.steps["3"].bank_identification_code.numeric?s("span",[t._v("* Разрешены только цифры")]):t._e(),t.$v.steps["3"].bank_identification_code.hasOwnProperty("minLength")&&!t.$v.steps["3"].bank_identification_code.minLength?s("span",[t._v("* Не менее "+t._s(t.$v.steps["3"].bank_identification_code.$params.minLength.min)+" символов")]):t._e(),t.$v.steps["3"].bank_identification_code.hasOwnProperty("maxLength")&&!t.$v.steps["3"].bank_identification_code.maxLength?s("span",[t._v("* Не более "+t._s(t.$v.steps["3"].bank_identification_code.$params.maxLength.max)+" символов")]):t._e()]):t._e()]),s("div",{staticClass:"mt-5 flex justify-content-center"},[s("button",{staticClass:"btn btn-green",on:{click:function(e){return t.validate(3)}}},[t._v("Далее")])])]):t._e(),4===t.steps.count?s("main",[s("label",{staticClass:"input-default",class:{invalid:t.$v.steps["4"].email.$error}},[s("input",{directives:[{name:"model",rawName:"v-model",value:t.$v.steps["4"].email.$model,expression:"$v.steps['4'].email.$model"}],attrs:{type:"email",placeholder:"Email *"},domProps:{value:t.$v.steps["4"].email.$model},on:{input:function(e){e.target.composing||t.$set(t.$v.steps["4"].email,"$model",e.target.value)}}}),t.$v.steps["4"].email.$error?s("div",{staticClass:"errors"},[t.$v.steps["4"].email.hasOwnProperty("email")&&!t.$v.steps["4"].email.email?s("span",[t._v("* Невалидная почта")]):t._e()]):t._e()]),s("label",{staticClass:"input-default",class:{invalid:t.$v.steps["4"].login.$error}},[s("input",{directives:[{name:"model",rawName:"v-model",value:t.$v.steps["4"].login.$model,expression:"$v.steps['4'].login.$model"}],attrs:{type:"text",placeholder:"Логин *"},domProps:{value:t.$v.steps["4"].login.$model},on:{input:function(e){e.target.composing||t.$set(t.$v.steps["4"].login,"$model",e.target.value)}}}),t.$v.steps["4"].login.$error?s("div",{staticClass:"errors"},[t.$v.steps["4"].login.hasOwnProperty("minLength")&&!t.$v.steps["4"].login.minLength?s("span",[t._v("* Не менее "+t._s(t.$v.steps["4"].login.$params.minLength.min)+" символов")]):t._e(),t.$v.steps["4"].login.hasOwnProperty("maxLength")&&!t.$v.steps["4"].login.maxLength?s("span",[t._v("* Не более "+t._s(t.$v.steps["4"].login.$params.maxLength.max)+" символов")]):t._e()]):t._e()]),s("label",{staticClass:"input-default",class:{invalid:t.$v.steps["4"].password.$error}},[s("input",{directives:[{name:"model",rawName:"v-model",value:t.$v.steps["4"].password.$model,expression:"$v.steps['4'].password.$model"}],attrs:{type:"password",placeholder:"Пароль *"},domProps:{value:t.$v.steps["4"].password.$model},on:{input:function(e){e.target.composing||t.$set(t.$v.steps["4"].password,"$model",e.target.value)}}}),t.$v.steps["4"].password.$error?s("div",{staticClass:"errors"},[t.$v.steps["4"].password.hasOwnProperty("minLength")&&!t.$v.steps["4"].password.minLength?s("span",[t._v("* Не менее "+t._s(t.$v.steps["4"].password.$params.minLength.min)+" символов")]):t._e(),t.$v.steps["4"].password.hasOwnProperty("maxLength")&&!t.$v.steps["4"].password.maxLength?s("span",[t._v("* Не более "+t._s(t.$v.steps["4"].password.$params.maxLength.max)+" символов")]):t._e()]):t._e()]),s("label",{staticClass:"input-default",class:{invalid:t.$v.steps["4"].reply_password.$error}},[s("input",{directives:[{name:"model",rawName:"v-model",value:t.$v.steps["4"].reply_password.$model,expression:"$v.steps['4'].reply_password.$model"}],attrs:{type:"password",placeholder:"Подтверждение пароля *"},domProps:{value:t.$v.steps["4"].reply_password.$model},on:{input:function(e){e.target.composing||t.$set(t.$v.steps["4"].reply_password,"$model",e.target.value)}}}),t.$v.steps["4"].reply_password.$error?s("div",{staticClass:"errors"},[t.$v.steps["4"].reply_password.hasOwnProperty("sameAsPassword")&&!t.$v.steps["4"].reply_password.sameAsPassword?s("span",[t._v("* Пароли не совпадают")]):t._e()]):t._e()]),s("div",{staticClass:"mt-5 flex justify-content-center"},[s("button",{staticClass:"btn btn-green",on:{click:function(e){return t.validate(4)}}},[t._v("Завершить")])])]):t._e()])]),s("p",{staticClass:"target mt-10 color-white"},[s("router-link",{staticClass:"link",attrs:{to:"/login"}},[t._v("Уже есть аккаунт? Войти")])],1)],1),1===t.steps.count?s("div",{staticClass:"pl-10 ml-10 flex flex-column color-white description-block"},[s("h1",[t._v("Это не займёт много времени")]),s("p",[t._v("Укажите Вашу фамилию и должность в компании")])]):t._e(),2===t.steps.count?s("div",{staticClass:"pl-10 ml-10 flex flex-column color-white description-block"},[s("h1",[t._v("Первый шаг уже сделан!")]),s("p",[t._v("Теперь необходимо указать, что это за компания")])]):t._e(),3===t.steps.count?s("div",{staticClass:"pl-10 ml-10 flex flex-column color-white description-block"},[s("h1",[t._v("Вы на пути к победе!")]),s("p",[t._v("Заполните банковские реквизиты, это необходимо")])]):t._e(),4===t.steps.count?s("div",{staticClass:"pl-10 ml-10 flex flex-column color-white description-block"},[s("h1",[t._v("Осталось совсем немного")]),s("p",[t._v("Вот и настал последний шаг! Укажите Ваш E-mail придумайте логин и пароль для входа")])]):t._e()])])]),t._m(1)])},Q=[function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("header",{staticClass:"fixed-header"},[s("div",{staticClass:"container"},[s("a",{staticClass:"link",attrs:{href:"/"}},[s("i",{staticClass:"icon icon-arrow-left color-green mr-5"}),t._v("Вернуться на сайт")])])])},function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("footer",{staticClass:"fixed-footer"},[s("div",{staticClass:"container flex justify-content-center align-items-center"},[s("p",{staticClass:"copyright"},[t._v("Разработано в 2020")])])])}],Z=(s("ac1f"),s("1276"),{name:"register",components:{Window:Y},data:function(){return{steps:{count:1,1:{full_name:"",position:""},2:{name_company:"",address:"",taxpayer_identification_number:"",code_reason:""},3:{name_bank:"",payment_account:"",correspondent_account:"",bank_identification_code:""},4:{email:"",login:"",password:"",reply_password:""}}}},methods:{validate:function(t){var e=this;if(this.$v.steps[t].$touch(),!this.$v.steps[t].$error)if(4===t){var s=new FormData,a=this.steps["1"].full_name.split(" ");s.append("name",a[0]),s.append("surname",a[1]),s.append("patronymic",a[2]),s.append("position",this.steps["1"].position),s.append("name_company",this.steps["2"].name_company),s.append("address",this.steps["2"].address),s.append("taxpayer_identification_number",this.steps["2"].taxpayer_identification_number),s.append("code_reason",this.steps["2"].code_reason),s.append("name_bank",this.steps["3"].name_bank),s.append("correspondent_account",this.steps["3"].correspondent_account),s.append("bank_identification_code",this.steps["3"].bank_identification_code),s.append("payment_account",this.steps["3"].payment_account),s.append("email",this.steps["4"].email),s.append("login",this.steps["4"].login),s.append("password",this.steps["4"].password),f.a.post("user",s).then((function(){e.$store.commit("ADD_HANDLER",{text:"Поздравляем, Вы успешно зарегистрировались, теперь вы можете войти используя свой логин и пароль",classes:"success"}),e.$router.push("/login")})).catch((function(t){"This login or email is already in use"===t.response.data.message?e.$store.commit("ADD_HANDLER",{text:"Почта или логин уже используеться другим пользователем",classes:"error"}):e.$store.commit("ADD_HANDLER",{text:t.response.data.message,classes:"error"})}))}else this.steps.count++}},validations:{steps:{1:{full_name:{required:B["required"],minLength:Object(B["minLength"])(9),maxLength:Object(B["maxLength"])(96)},position:{required:B["required"],minLength:Object(B["minLength"])(3),maxLength:Object(B["maxLength"])(32)}},2:{name_company:{required:B["required"],minLength:Object(B["minLength"])(3),maxLength:Object(B["maxLength"])(32)},address:{required:B["required"],minLength:Object(B["minLength"])(3),maxLength:Object(B["maxLength"])(128)},taxpayer_identification_number:{required:B["required"],numeric:B["numeric"],minLength:Object(B["minLength"])(10),maxLength:Object(B["maxLength"])(12)},code_reason:{required:B["required"],numeric:B["numeric"],minLength:Object(B["minLength"])(9),maxLength:Object(B["maxLength"])(9)}},3:{name_bank:{required:B["required"],minLength:Object(B["minLength"])(3),maxLength:Object(B["maxLength"])(32)},payment_account:{required:B["required"],numeric:B["numeric"],minLength:Object(B["minLength"])(16),maxLength:Object(B["maxLength"])(20)},correspondent_account:{required:B["required"],numeric:B["numeric"],minLength:Object(B["minLength"])(16),maxLength:Object(B["maxLength"])(20)},bank_identification_code:{required:B["required"],numeric:B["numeric"],minLength:Object(B["minLength"])(9),maxLength:Object(B["maxLength"])(9)}},4:{email:{required:B["required"],minLength:Object(B["minLength"])(6),maxLength:Object(B["maxLength"])(128),email:B["email"]},login:{required:B["required"],minLength:Object(B["minLength"])(3),maxLength:Object(B["maxLength"])(32)},password:{required:B["required"],minLength:Object(B["minLength"])(6),maxLength:Object(B["maxLength"])(128)},reply_password:{sameAsPassword:Object(B["sameAs"])("password")}}}}}),tt=Z,et=(s("6c52"),Object(m["a"])(tt,V,Q,!1,null,"7aad87f4",null)),st=et.exports,at=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("main",[a("page",{staticClass:"lk-page"},[a("div",{staticClass:"content"},[a("div",{staticClass:"grid g-column-2"},[t.isLoaded?a("div",{staticClass:"item"},[a("window",{staticClass:"window"},[a("header",[a("h3",[t._v("Управление организацией")])]),a("main",[a("article",[a("h4",[t._v("Организация")]),a("div",{staticClass:"edit-list"},[a("div",{staticClass:"item"},[a("string",{attrs:{val:t.UserCompanies[0].name,text:"Название организации:",min:"3",max:"32",types:"text",editable:"true",tables:"company",names:"name"}}),a("string",{attrs:{val:t.UserCompanies[0].taxpayer_identification_number,min:"10",max:"12",types:"text",text:"Инн:",editable:"true",tables:"company",names:"taxpayerIdentificationNumber"}}),a("string",{attrs:{val:t.UserCompanies[0].code_reason,min:"9",max:"9",types:"text",text:"КПП:",editable:"true",tables:"company",names:"codeReason"}}),a("string",{attrs:{val:t.UserCompanies[0].address,min:"3",max:"128",types:"text",text:"Адрес:",editable:"true",tables:"company",names:"address"}})],1)])]),a("article",[a("h4",[t._v("Банковские реквизиты")]),a("div",{staticClass:"edit-list"},[a("div",{staticClass:"item"},[a("string",{attrs:{val:t.UserBanks[0].name,text:"Наименование банка:",min:"3",max:"32",types:"text",editable:"true",tables:"bank",names:"name"}}),a("string",{attrs:{val:t.UserBanks[0].correspondent_account,text:"К/С:",min:"3",max:"32",types:"text",editable:"true",tables:"bank",names:"correspondent_account"}}),a("string",{attrs:{val:t.UserBanks[0].bank_identification_code,text:"БИК:",min:"3",max:"32",types:"text",editable:"true",tables:"bank",names:"bank_identification_code"}}),a("string",{attrs:{val:t.UserBanks[0].payment_account,text:"Р/С:",min:"3",max:"32",types:"text",editable:"true",tables:"bank",names:"payment_account"}})],1)])]),a("types-section",{attrs:{payload:t.UserTypes}})],1)])],1):t._e(),a("div",{staticClass:"item"},[t.$route.meta.IS_ADMIN&&t.isLoaded?a("window",{staticClass:"mb-10 admins"},[a("header",[a("h3",[t._v("Закупки")])]),a("main",[a("div",{staticClass:"btns"},[a("router-link",{staticClass:"btn btn-green",attrs:{to:"/admin/purchases/"+t.$route.params.id}},[t._v(" Посмотреть закупки ")]),a("router-link",{staticClass:"btn btn-green-outline",attrs:{to:"/admin/history/purchases/"+t.$route.params.id}},[t._v(" Посмотреть историю закупок ")]),a("router-link",{attrs:{to:"/admin/messages/user/"+t.$route.params.id}},[a("i",{staticClass:"icon icon-chat"}),t._v("Открыть чат с клиентом ")])],1)])]):t._e(),t.isLoaded?a("window",[a("header",[a("div",{staticClass:"flex justify-content-beetwen"},[a("h3",[t._v("Личные данные")]),t.User.image_url?a("img",{staticClass:"avatar",attrs:{src:t.$store.getters.URL+"/"+t.User.image_url,alt:"user"}}):a("img",{staticClass:"avatar",attrs:{src:s("857f"),alt:"user"}})])]),a("main",[t.isLoaded?a("article",[a("div",{staticClass:"edit-list"},[a("div",{staticClass:"item"},[a("p",{staticClass:"string"},[a("b",[t._v("Фотография:")]),a("label",{staticClass:"custom-load_file",on:{click:function(e){t.showLoadPhotoModal=!0}}},[a("span",[t._v("Загрузить другое фото")])])]),a("string",{attrs:{val:t.User.login,text:"Логин",min:"3",max:"32",types:"text",tables:"main",names:"login"}}),a("p",{staticClass:"string"},[a("b",[t._v("Пароль:")]),a("label",{staticClass:"custom-load_file",on:{click:function(e){t.showPasswordModal=!0}}},[a("span",[t._v("Сменить пароль")])])]),a("string",{attrs:{val:t.User.email,text:"E-mail:",min:"3",max:"32",types:"text",tables:"main",names:"email"}}),a("string",{attrs:{val:t.fullName,text:"ФИО:",min:"3",max:"32",types:"text",tables:"main",names:"fio"}}),a("string",{attrs:{val:t.User.position,text:"Должность:",min:"3",max:"32",types:"text",editable:"true",tables:"main",names:"position"}})],1)])]):t._e()])]):t._e(),t.$route.meta.IS_ADMIN?t._e():a("div",{staticClass:"flex justify-content-center"},[a("button",{staticClass:"logout",on:{click:function(e){t.showLogoutModal=!0}}},[t._v("Выйти")])])],1)]),t.$route.meta.IS_ADMIN?a("div",{staticClass:"flex justify-content-center mt-5"},[!1===t.User.is_block?a("button",{staticClass:"blocked",on:{click:function(e){t.showBlockModal=!0}}},[t._v("Заблокировать пользователя")]):a("button",{staticClass:"unblocked",on:{click:function(e){t.showUnblockModal=!0}}},[t._v("Разблокировать пользователя")])]):t._e()])]),a("modal",{attrs:{showModal:t.showBlockModal},on:{close:function(e){t.showBlockModal=!1}},scopedSlots:t._u([{key:"title",fn:function(){return[a("h3",[t._v("Вы уверены что хотите "),a("span",{staticClass:"color-red"},[t._v("заблокировать")]),t._v(" пользователя?")])]},proxy:!0},{key:"content",fn:function(){return[a("div",{staticClass:"to"},[a("button",{staticClass:"btn btn-green-outline mr-5",on:{click:function(e){t.showBlockModal=!1}}},[t._v("Отмена")]),a("button",{staticClass:"btn btn-green",on:{click:t.blockUser}},[t._v("Да")])])]},proxy:!0}])}),a("modal",{attrs:{showModal:t.showUnblockModal},on:{close:function(e){t.showUnblockModal=!1}},scopedSlots:t._u([{key:"title",fn:function(){return[a("h3",[t._v("Вы уверены что хотите "),a("span",{staticClass:"color-green"},[t._v("разблокировать")]),t._v(" пользователя?")])]},proxy:!0},{key:"content",fn:function(){return[a("div",{staticClass:"to"},[a("button",{staticClass:"btn btn-green-outline mr-5",on:{click:function(e){t.showUnblockModal=!1}}},[t._v("Отмена")]),a("button",{staticClass:"btn btn-green",on:{click:t.unblockUser}},[t._v("Да")])])]},proxy:!0}])}),a("modal",{attrs:{showModal:t.showLogoutModal},on:{close:function(e){t.showLogoutModal=!1}},scopedSlots:t._u([{key:"title",fn:function(){return[a("h3",[t._v("Вы уверены что хотите выйти?")])]},proxy:!0},{key:"content",fn:function(){return[a("div",{staticClass:"to"},[a("button",{staticClass:"btn btn-green-outline mr-5",on:{click:function(e){t.showLogoutModal=!1}}},[t._v("Отмена")]),a("button",{staticClass:"btn btn-green",on:{click:t.logout}},[t._v("Да")])])]},proxy:!0}])}),a("modal",{attrs:{showModal:t.showLoadPhotoModal},on:{close:function(e){t.showLoadPhotoModal=!1}},scopedSlots:t._u([{key:"title",fn:function(){return[a("h3",[t._v("Загрузите новую фотографию")])]},proxy:!0},{key:"content",fn:function(){return[a("div",{staticClass:"to"},[a("input",{ref:"file",attrs:{type:"file"},on:{change:t.changeFile}})]),t.sources?a("div",{staticClass:"sources"},[a("img",{attrs:{src:t.sources,alt:"new_avatar"}})]):t._e(),!0===t.isLoadPhotoButton?a("div",{staticClass:"flex justify-content-center"},[a("button",{staticClass:"btn btn-green",on:{click:t.clickLoadPhoto}},[t._v("Сохранить")])]):t._e()]},proxy:!0}])}),a("modal",{attrs:{showModal:t.showPasswordModal},on:{close:function(e){t.showPasswordModal=!1}},scopedSlots:t._u([{key:"title",fn:function(){return[a("h3",[t._v("Смена пароля:")])]},proxy:!0},{key:"content",fn:function(){return[a("div",[a("label",{staticClass:"input-default",attrs:{for:"inp-old_password"}},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.oldPassword,expression:"oldPassword"}],attrs:{id:"inp-old_password",type:"password",name:"old_password",value:"",placeholder:"Старый пароль",autocomplete:"off",required:""},domProps:{value:t.oldPassword},on:{input:function(e){e.target.composing||(t.oldPassword=e.target.value)}}})])]),a("div",{staticClass:"mt-5"},[a("label",{staticClass:"input-default",attrs:{for:"inp-new_password"}},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.newPassword,expression:"newPassword"}],attrs:{id:"inp-new_password",type:"password",name:"new_password",value:"",placeholder:"Новый пароль",autocomplete:"off",required:""},domProps:{value:t.newPassword},on:{input:function(e){e.target.composing||(t.newPassword=e.target.value)}}})])]),a("div",{staticClass:"to mt-10"},[a("button",{staticClass:"btn btn-green-outline mr-5",attrs:{type:"button"},on:{click:function(e){t.showPasswordModal=!1}}},[t._v("Отмена")]),a("button",{staticClass:"btn btn-green",attrs:{type:"submit",name:"yes"},on:{click:t.switchPassword}},[t._v("Сменить")])])]},proxy:!0}])})],1)},nt=[],it=(s("3ca3"),s("ddb0"),s("2b3d"),function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("article",[s("h4",[t._v("Тип клиента:")]),s("div",{staticClass:"edit-list"},[s("div",{staticClass:"item"},[s("label",{staticClass:"mb-10"},[s("div",{staticClass:"grid fs-16 mt-5"},t._l(t.localTypes,(function(e){var a=e.name,n=e.id,i=e.check,o=e.index;return s("div",{key:o,staticClass:"checkbox-custom small"},[s("label",[s("input",{attrs:{type:"checkbox",name:"client",hidden:""},domProps:{value:n,checked:!0===i},on:{input:t.checked}}),s("div",{staticClass:"checkbox"}),s("p",[t._v(t._s(a))])])])})),0)])])])])}),ot=[],rt=(s("a9e3"),{name:"TypesSection",props:["payload"],data:function(){return{types:[]}},methods:{checked:function(t){var e=this;f.a.put("user/types/".concat(this.$route.params.id|this.$store.getters.GET_USER_ID),{id:Number(t.target.value),check:t.target.checked?1:0}).then((function(){e.$store.commit("ADD_HANDLER",{text:"Информация обновлена",classes:"success"})})).catch((function(t){return e.$store.commit("ADD_HANDLER",{text:"Ошибка запроса... "+t,classes:"error"})}))}},computed:{localTypes:function(){for(var t=0;t<this.payload.length;t++)for(var e=0;e<this.types.length;e++){var s=this.payload[t],a=this.types[e];s.type_id===a.id&&(a["check"]=!0)}return this.types}},beforeCreate:function(){var t=this;f.a.get("handbook/user/types").then((function(e){t.types=e.data}))}}),ct=rt,lt=(s("0e4f"),Object(m["a"])(ct,it,ot,!1,null,"8ff30128",null)),ut=lt.exports,dt=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("transition",{attrs:{name:"modal"}},[t.showModal?s("div",{staticClass:"modal"},[s("div",{staticClass:"body"},[s("div",{staticClass:"headerModal"},[s("h3",{staticClass:"title"},[t._t("title")],2),s("button",{staticClass:"close",on:{click:function(e){return t.$emit("close")}}},[s("i",{staticClass:"icon icon-close"})])]),s("div",{staticClass:"contentModal"},[t._t("content")],2)])]):t._e()])},mt=[],pt={name:"Modal",props:["showModal"],data:function(){return{isModal:this.showModal}},handler:function(){return this.showModal}},vt=pt,ht=(s("cf3b"),Object(m["a"])(vt,dt,mt,!1,null,null,null)),ft=ht.exports,_t=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("section",{staticClass:"page"},[s("header",[t._t("header",[s("h2",[t._v(t._s(t.$route.name))])])],2),s("main",[t._t("default")],2)])},gt=[],$t={name:"Page"},bt=$t,xt=(s("87fa"),Object(m["a"])(bt,_t,gt,!1,null,null,null)),yt=xt.exports,Ct=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"str"},[s("p",{staticClass:"string"},[s("b",[t._v(t._s(t.text))]),s("label",["checkbox"===t.types?s("input",{directives:[{name:"model",rawName:"v-model",value:t.value,expression:"value"}],ref:"inp",staticClass:"invisible",attrs:{disabled:!0===t.disable,type:"checkbox"},domProps:{checked:Array.isArray(t.value)?t._i(t.value,null)>-1:t.value},on:{change:function(e){var s=t.value,a=e.target,n=!!a.checked;if(Array.isArray(s)){var i=null,o=t._i(s,i);a.checked?o<0&&(t.value=s.concat([i])):o>-1&&(t.value=s.slice(0,o).concat(s.slice(o+1)))}else t.value=n}}}):"radio"===t.types?s("input",{directives:[{name:"model",rawName:"v-model",value:t.value,expression:"value"}],ref:"inp",staticClass:"invisible",attrs:{disabled:!0===t.disable,type:"radio"},domProps:{checked:t._q(t.value,null)},on:{change:function(e){t.value=null}}}):s("input",{directives:[{name:"model",rawName:"v-model",value:t.value,expression:"value"}],ref:"inp",staticClass:"invisible",attrs:{disabled:!0===t.disable,type:t.types},domProps:{value:t.value},on:{input:function(e){e.target.composing||(t.value=e.target.value)}}})])]),t.editable?s("button",{staticClass:"edit",attrs:{title:t.title},on:{click:t.toggle}},[s("i",{class:["icon",t.disable?"icon-edit":"icon-ok color-green"]})]):t._e()])},kt=[],wt=s("ade3"),Lt={name:"String",props:["text","types","names","val","editable","tables","min","max","userId"],data:function(){return{disable:!0,title:"Редактировать",value:this.val}},methods:{toggle:function(){var t=this;this.editable&&(this.disable=!this.disable,this.disable?(this.title="Редактировать",this.value.length<=this.max?this.value.length>=this.min?f.a.put("user/".concat(this.tables,"/").concat(this.$route.params.id||this.$store.getters.GET_USER_ID),Object(wt["a"])({},this.names,this.value)).then((function(){t.$store.commit("ADD_HANDLER",{text:"Поле успешно обновлено",classes:"success"})})).catch((function(e){t.disable=!1,t.$store.commit("ADD_HANDLER",{text:"Ошибка... "+e,classes:"error"})})):(this.disable=!1,this.$store.commit("ADD_HANDLER",{text:"Слишком коротко, нужно не менее ".concat(this.min," ").concat(this.min<2?"символа":"символов"),classes:"error"})):(this.disable=!1,this.$store.commit("ADD_HANDLER",{text:"Колличество символов превышает допустимые нормы. Не более ".concat(this.max," ").concat(this.max<2?"символа":"символов"),classes:"error"}))):(this.title="Сохранить",this.$nextTick((function(){return t.$refs.inp.focus()}))))}}},At=Lt,Dt=(s("734c"),Object(m["a"])(At,Ct,kt,!1,null,"93206e2c",null)),St=Dt.exports,jt={name:"account",components:{String:St,Window:Y,Page:yt,Modal:ft,TypesSection:ut},data:function(){return{isLoaded:!1,showLoadPhotoModal:!1,showPasswordModal:!1,isLoadPhotoButton:!1,showLogoutModal:!1,showBlockModal:!1,showUnblockModal:!1,UserTypes:[],UserBanks:[],UserCompanies:[],User:{},sources:"",file:void 0,oldPassword:"",newPassword:""}},created:function(){var t=this;f.a.get("user/".concat(this.$route.params.id||this.$store.getters.GET_USER_ID)).then((function(e){t.User=e.data||{},t.UserTypes=e.data.user_types||[],t.UserBanks=e.data.user_banks||[],t.UserCompanies=e.data.user_companies||[],t.isLoaded=!0})).catch((function(e){t.$store.commit("ADD_HANDLER",{text:"Ошибка получения данных... "+e,classes:"error"})}))},computed:{fullName:function(){return"".concat(this.User.surname," ").concat(this.User.name," ").concat(this.User.patronymic)}},methods:{blockUser:function(){var t=this;f.a.post("user/".concat(this.$route.params.id,"/blocked")).then((function(){t.User.is_block=!0,t.showBlockModal=!1,t.$store.commit("ADD_HANDLER",{text:"Пользователь заблокирован",classes:"success"})})).catch((function(e){t.$store.commit("ADD_HANDLER",{text:"Ошибка запроса... "+e,classes:"error"})}))},unblockUser:function(){var t=this;f.a.post("user/".concat(this.$route.params.id,"/unblocked")).then((function(){t.User.is_block=!1,t.showUnblockModal=!1,t.$store.commit("ADD_HANDLER",{text:"Пользователь разблокирован",classes:"success"})})).catch((function(e){t.$store.commit("ADD_HANDLER",{text:"Ошибка запроса... "+e,classes:"error"})}))},switchPassword:function(){var t=this;f.a.put("user/password/".concat(this.$route.params.id||this.$store.getters.GET_USER_ID),{oldPassword:this.oldPassword,newPassword:this.newPassword}).then((function(){t.showPasswordModal=!1,t.$store.commit("ADD_HANDLER",{text:"Пароль успешно изменён",classes:"success"})})).catch((function(e){return t.$store.commit("ADD_HANDLER",{text:"Ошибка загрузки... "+e,classes:"error"})}))},changeFile:function(t){var e=t.target.files[0];"image/png"===e.type||"image/jpeg"===e.type?e.size<5242880?(this.sources=URL.createObjectURL(e),this.file=e,this.isLoadPhotoButton=!0):this.$store.commit("ADD_HANDLER",{text:"Размер изображения превышает 5мб",classes:"error"}):this.$store.commit("ADD_HANDLER",{text:"Неверный формат изображения. Разрешены только image/png, image/jpeg",classes:"error"})},clickLoadPhoto:function(){var t=this,e=new FormData;e.append("file",this.file),f.a.put("user/photo/".concat(this.$route.params.id||this.$store.getters.GET_USER_ID),e,{headers:{"Content-Type":"multipart/form-data"}}).then((function(){t.showLoadPhotoModal=!1,new Promise((function(){return setTimeout((function(e){t.$router.go(e)}),500)}))})).catch((function(e){return t.$store.commit("ADD_HANDLER",{text:"Ошибка загрузки... "+e,classes:"error"})}))},logout:function(){var t=this;this.$store.dispatch("AUTH_LOGOUT").then((function(e){return t.$router.go(e)}))}}},Et=jt,Pt=(s("66c0"),Object(m["a"])(Et,at,nt,!1,null,"e4326e36",null)),Ot=Pt.exports,Nt=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("main",[s("page",{staticClass:"index-page all-page"},[s("div",{staticClass:"content"},[s("div",{staticClass:"tools"},[s("div",{staticClass:"tool"},[s("div",{staticClass:"create"},[s("button",{staticClass:"btn btn-green",on:{click:t.linkCreate}},[s("span",[t._v("Добавить закупку")])])]),!0===t.isLoaded?s("div",{staticClass:"filter"},[s("span",[t._v("Фильтр:")]),s("div",{staticClass:"flex-select"},[s("v-selectize",{staticClass:"default",attrs:{"key-by":"id",label:"name",placeholder:"НМЦК"}}),s("v-selectize",{staticClass:"default",attrs:{"key-by":"id",label:"name",options:t.statuses,placeholder:"Статус"},model:{value:t.status,callback:function(e){t.status=e},expression:"status"}})],1)]):t._e()]),s("div",{staticClass:"tool"},[s("div",{class:["search",!0===t.isSearch?"isSearch":""]},[s("div",{staticClass:"masked"}),s("label",{staticClass:"input-icon"},[s("i",{staticClass:"icon icon-search"}),s("input",{directives:[{name:"model",rawName:"v-model",value:t.search,expression:"search"}],attrs:{type:"search",placeholder:"Поиск"},domProps:{value:t.search},on:{focusin:function(e){t.isSearch=!0},focusout:function(e){t.isSearch=!1},input:function(e){e.target.composing||(t.search=e.target.value)}}})])])])]),s("window",[s("vue-custom-scrollbar",{class:["table","counter",t.isSearch?"isSearch":""],attrs:{settings:{suppressScrollY:!0},tagname:"div"}},[s("div",{staticClass:"cell-items"},[s("div",{staticClass:"grid cell-titles"},[s("div",{staticClass:"cell"},[t._v("№ "),s("br"),t._v("п/п")]),s("div",{staticClass:"cell"},[t._v("Наименование закупки")]),s("div",{staticClass:"cell"},[t._v("НМЦК")]),s("div",{staticClass:"cell"},[t._v("Статус")]),s("div",{staticClass:"cell"},[t._v("Срок исполнения")]),s("div",{staticClass:"cell"},[t._v("Ответственное лицо")]),s("div",{staticClass:"cell"},[t._v("Действие")])]),t.purchasesFilter.length>0?s("vue-custom-scrollbar",{staticClass:"inner",attrs:{settings:{suppressScrollX:!0},tagname:"div"}},t._l(t.purchasesFilter,(function(e){return s("purchase-item",{key:e.id,attrs:{data:e},on:{remove:function(e){return t.removeItem(e)}}})})),1):!0===t.isLoaded?s("div",[s("p",{staticClass:"not_found"},[t._v("Ничего не найдено...")])]):t._e()],1)])],1)],1)])],1)},It=[],Mt=(s("4de4"),s("caad"),s("a434"),s("2532"),s("841c"),function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"grid"},[s("div",{staticClass:"cell"}),s("div",{staticClass:"cell"},[t._v(t._s(t.purchase.name))]),s("div",{staticClass:"cell"},[t._v(t._s(t.purchase.initial_maximum_contract_price))]),s("div",{staticClass:"cell",style:"color: "+t.purchase.status.code},[t._v(t._s(t.purchase.status.name)+" ")]),s("div",{staticClass:"cell"},[t._v("04.12.2019")]),s("div",{staticClass:"cell"},[t._v(t._s(t.purchase.responsible.surname)+" "+t._s(t.purchase.responsible.name)+" "+t._s(t.purchase.responsible.patronymic))]),s("div",{staticClass:"cell icons"},[t.notOpen?t._e():s("button",{on:{click:t.open}},[s("i",{staticClass:"icon icon-eye"})]),t.notEditable?t._e():s("button",{on:{click:t.edit}},[s("i",{staticClass:"icon icon-edit"})]),t.notDelete?t._e():s("div",[1===t.purchase.status.id?s("button",{on:{click:function(e){t.showRestoreModal=!0}}},[s("i",{staticClass:"icon icon-arrow-top"})]):s("button",{on:{click:function(e){t.showDeleteModal=!0}}},[s("i",{staticClass:"icon icon-close"})])])]),s("modal",{attrs:{showModal:t.showDeleteModal},on:{close:function(e){t.showDeleteModal=!1}},scopedSlots:t._u([{key:"title",fn:function(){return[s("h3",[t._v("Вы уверены что хотите удалить закупку?")])]},proxy:!0},{key:"content",fn:function(){return[s("div",{staticClass:"to"},[s("button",{staticClass:"btn btn-green-outline mr-5",on:{click:function(e){t.showDeleteModal=!1}}},[t._v("Отмена")]),s("button",{staticClass:"btn btn-green",attrs:{disable:!1===t.removeButton},on:{click:t.remove}},[t._v("Да")])])]},proxy:!0}])}),s("modal",{attrs:{showModal:t.showRestoreModal},on:{close:function(e){t.showRestoreModal=!1}},scopedSlots:t._u([{key:"title",fn:function(){return[s("h3",[t._v("Вы уверены что хотите "),s("b",{staticClass:"color-green"},[t._v("восстановить")]),t._v(" закупку?")])]},proxy:!0},{key:"content",fn:function(){return[s("div",{staticClass:"to"},[s("button",{staticClass:"btn btn-green-outline mr-5",on:{click:function(e){t.showRestoreModal=!1}}},[t._v("Отмена")]),s("button",{staticClass:"btn btn-green",attrs:{disable:!1===t.restoreButton},on:{click:t.restore}},[t._v("Да")])])]},proxy:!0}])})],1)}),Rt=[],Tt={name:"PurchaseItem",components:{Modal:ft},props:["data","notDelete","notEditable","notOpen","admin"],data:function(){return{purchase:this.data,showDeleteModal:!1,removeButton:!0,showRestoreModal:!1,restoreButton:!0}},methods:{open:function(){this.$route.meta.IS_ADMIN?this.$router.push("/admin/view/purchase/".concat(this.purchase.user.id,"/").concat(this.purchase.id)):this.$router.push("/view/purchase/".concat(this.purchase.user.id,"/").concat(this.purchase.id))},edit:function(){this.$route.meta.IS_ADMIN?this.$router.push("/admin/change/purchase/".concat(this.purchase.user.id,"/").concat(this.purchase.id)):this.$router.push("/change/purchase/".concat(this.purchase.user.id,"/").concat(this.purchase.id))},restore:function(){var t=this;this.restoreButton=!1,f.a.post("purchase/".concat(this.purchase.id,"/restore")).then((function(){t.showRestoreModal=!1,t.$store.commit("ADD_HANDLER",{text:"Закупка успешно восстановлена",classes:"success"}),t.purchase.status={id:3,name:"Проект",code:"#000000"},setTimeout((function(){t.restoreButton=!0,t.$emit("restore",t.purchase.id)}),300)})).catch((function(){t.$store.commit("ADD_HANDLER",{text:"Ошибка... Закупка не была восстановлена.",classes:"error"})}))},remove:function(){var t=this;this.removeButton=!1,f.a.delete("purchase/".concat(this.purchase.id)).then((function(){t.showDeleteModal=!1,t.$store.commit("ADD_HANDLER",{text:"Закупка успешно удалена",classes:"success"}),t.purchase.status={id:1,name:"Удален",code:"#7A0000"},setTimeout((function(){t.removeButton=!0,t.$emit("remove",t.purchase.id)}),300)})).catch((function(){t.$store.commit("ADD_HANDLER",{text:"Ошибка... Закупка не была удалена.",classes:"error"})}))}}},Ut=Tt,qt=Object(m["a"])(Ut,Mt,Rt,!1,null,null,null),Ht=qt.exports,zt=s("4b70"),Gt=s.n(zt),Ft={name:"Purchases",components:{Page:yt,Window:Y,PurchaseItem:Ht,vueCustomScrollbar:Gt.a},data:function(){return{purchases:[],statuses:[],showStatuses:!1,status:"",isLoaded:!1,search:"",isSearch:!1}},computed:{purchasesFilter:function(){var t=this,e=this.purchases.filter((function(e){var s=t.status.name?t.status.name:"";return e.status.name.toLowerCase().includes(s.toLowerCase())}));return e.filter((function(e){return e.name.toLowerCase().includes(t.search.toLowerCase())}))}},created:function(){var t,e=this;t=this.$route.params.id&&this.$route.meta.IS_ADMIN?"purchases/".concat(this.$route.params.id):this.$route.meta.IS_ADMIN?"purchases":"purchases/".concat(this.$store.getters.GET_USER_ID),f.a.get(t).then((function(t){e.purchases=t.data,f.a.get("handbook/purchase/statuses").then((function(t){e.showStatuses=!0,e.isLoaded=!0,e.statuses=t.data.filter((function(t){return e.purchases.some((function(e){return e.status.id===t.id}))}))})).catch((function(t){e.$store.commit("ADD_HANDLER",{text:"Ошибка получения данных... "+t,classes:"error"})}))})).catch((function(t){e.$store.commit("ADD_HANDLER",{text:"Ошибка получения данных... "+t,classes:"error"})}))},methods:{linkCreate:function(){this.$route.meta.IS_ADMIN?this.$router.push("/admin/create/purchase"):this.$router.push("/create/purchase")},removeItem:function(t){for(var e=0;e<this.purchases.length;e++)this.purchases[e].id===t&&this.purchases.splice(e,1)}}},Yt=Ft,Bt=(s("789b"),Object(m["a"])(Yt,Nt,It,!1,null,"b159aa04",null)),Kt=Bt.exports,Wt=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("main",[s("page",{staticClass:"index-page"},[s("div",{staticClass:"content"},[s("div",{staticClass:"tools"},[s("div",{staticClass:"tool"},[s("div",{class:["search",!0===t.isSearch?"isSearch":""]},[s("div",{staticClass:"masked"}),s("label",{staticClass:"input-icon"},[s("i",{staticClass:"icon icon-search"}),s("input",{directives:[{name:"model",rawName:"v-model",value:t.search,expression:"search"}],attrs:{type:"search",placeholder:"Поиск"},domProps:{value:t.search},on:{focusin:function(e){t.isSearch=!0},focusout:function(e){t.isSearch=!1},input:function(e){e.target.composing||(t.search=e.target.value)}}})])])])]),!0===t.isLoaded?s("window",[s("vue-custom-scrollbar",{class:["table","counter","scroll-area",t.isSearch?"isSearch":""],attrs:{settings:{suppressScrollY:!0},tagname:"div"}},[s("div",{staticClass:"cell-items"},[s("div",{staticClass:"grid cell-titles"},[s("div",{staticClass:"cell"},[t._v("№ "),s("br"),t._v("п/п")]),s("div",{staticClass:"cell"},[t._v("Наименование закупки")]),s("div",{staticClass:"cell"},[t._v("НМЦК")]),s("div",{staticClass:"cell"},[t._v("Статус")]),s("div",{staticClass:"cell"},[t._v("Срок исполнения")]),s("div",{staticClass:"cell"},[t._v("Ответственное лицо")]),s("div",{staticClass:"cell"},[t._v("Действие")])]),t.purchasesFilter.length>0?s("vue-custom-scrollbar",{staticClass:"inner",attrs:{settings:{suppressScrollX:!0},tagname:"div"}},t._l(t.purchasesFilter,(function(e){return s("purchase-item",{key:e.id,attrs:{notDelete:!0,notEditable:!0,data:e},on:{remove:function(e){return t.removeItem(e)}}})})),1):s("div",[s("p",{staticClass:"not_found"},[t._v("Ничего не найдено...")])])],1)])],1):t._e()],1)])],1)},Jt=[],Xt={name:"HistoryPurchases",components:{Page:yt,Window:Y,PurchaseItem:Ht,vueCustomScrollbar:Gt.a},data:function(){return{purchases:[],isLoaded:!1,search:"",isSearch:!1}},computed:{purchasesFilter:function(){var t=this;return this.purchases.filter((function(e){return e.name.toLowerCase().includes(t.search.toLowerCase())}))}},created:function(){var t,e=this;t=this.$route.params.id&&this.$route.meta.IS_ADMIN?"purchases/".concat(this.$route.params.id):"purchases/".concat(this.$store.getters.GET_USER_ID),f.a.get(t,{params:{where:"history"}}).then((function(t){e.purchases=t.data,e.isLoaded=!0})).catch((function(t){e.$store.commit("ADD_HANDLER",{text:"Ошибка получения данных... "+t,classes:"error"})}))},methods:{removeItem:function(t){for(var e=0;e<this.purchases.length;e++)this.purchases[e].id===t&&this.purchases.splice(e,1)}}},Vt=Xt,Qt=(s("c723"),Object(m["a"])(Vt,Wt,Jt,!1,null,"422c0a6e",null)),Zt=Qt.exports,te=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("main",[s("page",[t.isLoaded?s("div",{staticClass:"content"},[s("div",{staticClass:"tools"},[s("div",{staticClass:"tool"},[s("div",[s("p",[t._v("Последнее изменение: "+t._s(t._f("formatDate")(t.data.updatedAt)))]),s("router-link",{staticClass:"link",attrs:{to:(this.$route.meta.IS_ADMIN?"/admin":"")+"/history/change/purchase/"+this.$route.params.user+"/"+t.$route.params.id}},[s("i",{staticClass:"icon icon-eye color-green"}),t._v(" Просмотреть историю изменений ")])],1)])]),s("window",[s("vue-custom-scrollbar",{staticClass:"table",attrs:{settings:{suppressScrollY:!0},tagname:"div"}},[s("div",{staticClass:"cell-items"},[s("div",{staticClass:"grid cell-titles"},[s("div",{staticClass:"cell"},[t._v("Наименование поля")]),s("div",{staticClass:"cell"},[t._v("Значение")])]),s("vue-custom-scrollbar",{staticClass:"inner",attrs:{settings:{suppressScrollX:!0},tagname:"div"}},t._l(t.fields,(function(e){return s("div",{key:e.title,staticClass:"grid"},[s("div",{staticClass:"cell"},[t._v(t._s(e.title))]),s("div",{staticClass:"cell"},[t._v(t._s(e.text))])])})),0)],1)])],1),s("div",{staticClass:"items"},[s("div",{staticClass:"item"},[s("button",{on:{click:t.clickOpenChat}},[s("i",{staticClass:"icon icon-chat color-green"}),t._v(" Открыть чат по этой закупки ")])]),s("div",{staticClass:"item"},[s("button",{on:{click:t.clickEdit}},[s("i",{staticClass:"icon icon-edit color-green"}),t._v(" Изменить закупку")])]),s("div",{staticClass:"item"},[1===t.data.status.id?s("button",{on:{click:function(e){t.showRestoreModal=!0}}},[s("i",{staticClass:"icon icon-arrow-top color-green"}),t._v(" Восстановить закупку ")]):t._e(),1!==t.data.status.id?s("button",{on:{click:function(e){t.showDeleteModal=!0}}},[s("i",{staticClass:"icon icon-arrow-top color-red"}),t._v(" Удалить закупку ")]):t._e()])])],1):t._e()]),s("modal",{attrs:{showModal:t.showDeleteModal},on:{close:function(e){t.showDeleteModal=!1}},scopedSlots:t._u([{key:"title",fn:function(){return[s("h3",[t._v("Вы уверены что хотите "),s("b",{staticClass:"color-red"},[t._v("удалить")]),t._v(" закупку?")])]},proxy:!0},{key:"content",fn:function(){return[s("div",{staticClass:"to"},[s("button",{staticClass:"btn btn-green-outline mr-5",on:{click:function(e){t.showDeleteModal=!1}}},[t._v("Отмена")]),s("button",{staticClass:"btn btn-green",on:{click:t.clickRemove}},[t._v("Да")])])]},proxy:!0}])}),s("modal",{attrs:{showModal:t.showRestoreModal},on:{close:function(e){t.showRestoreModal=!1}},scopedSlots:t._u([{key:"title",fn:function(){return[s("h3",[t._v("Вы уверены что хотите "),s("b",{staticClass:"color-green"},[t._v("восстановить")]),t._v(" закупку?")])]},proxy:!0},{key:"content",fn:function(){return[s("div",{staticClass:"to"},[s("button",{staticClass:"btn btn-green-outline mr-5",on:{click:function(e){t.showRestoreModal=!1}}},[t._v("Отмена")]),s("button",{staticClass:"btn btn-green",on:{click:t.clickRestore}},[t._v("Да")])])]},proxy:!0}])})],1)},ee=[],se=s("53ca"),ae=s("c1df"),ne=s.n(ae),ie={name:"purchase",components:{Window:Y,Page:yt,Modal:ft,vueCustomScrollbar:Gt.a},data:function(){return{fields:[],data:[],isLoaded:!1,showDeleteModal:!1,showRestoreModal:!1}},filters:{formatDate:function(t){if(t)return ne()(String(t)).format("DD.MM.YYYY в hh:mm")}},methods:{clickEdit:function(){this.$route.meta.IS_ADMIN?this.$router.push("/admin/change/purchase/".concat(this.$route.params.user,"/").concat(this.$route.params.id)):this.$router.push("/change/purchase/".concat(this.$route.params.user,"/").concat(this.$route.params.id))},clickOpenChat:function(){},clickRestore:function(){var t=this;f.a.post("purchase/".concat(this.$route.params.id,"/restore")).then((function(){t.$store.commit("ADD_HANDLER",{text:"Закупка успешно восстановлена",classes:"success"}),t.data.status.id=3,t.showRestoreModal=!1})).catch((function(){t.$store.commit("ADD_HANDLER",{text:"Ошибка... Закупка не была восстановлена.",classes:"error"})}))},clickRemove:function(){var t=this;f.a.delete("purchase/".concat(this.$route.params.id)).then((function(){t.$store.commit("ADD_HANDLER",{text:"Закупка успешно удалена",classes:"success"}),t.data.status.id=1,t.showDeleteModal=!1})).catch((function(){t.$store.commit("ADD_HANDLER",{text:"Ошибка... Закупка не была удалена.",classes:"error"})}))}},created:function(){var t=this;f.a.get("purchase/".concat(this.$route.params.user||this.$store.getters.GET_USER_ID,"/").concat(this.$route.params.id)).then((function(e){var s=[];for(var a in e.data)if("object"!==Object(se["a"])(e.data[a])){var n=void 0;"id"===a&&(n={title:"Уникальный номер"}),"name"===a&&(n={title:"Наименование закупки"}),"initial_maximum_contract_price"===a&&(n={title:"НМЦК"}),"delivery_time"===a&&(n={title:"Срок поставки",text:ne()(e.data[a]).format("до DD.MM.YYYY")}),"delivery_address"===a&&(n={title:"Место поставки товара\n (оказания услуг, выполнения работ)"}),"quantity"===a&&(n={title:"Кол-во товара",text:"".concat(e.data[a]," (").concat(e.data.unit.name,")")}),"createdAt"===a&&(n={title:"Дата создания",text:ne()(e.data[a]).format("DD.MM.YYYY в hh:mm")}),void 0!==n&&(void 0===n.text&&(n.text=e.data[a]),s.push(n))}t.data=e.data,t.fields=s,t.isLoaded=!0})).catch((function(e){t.$store.commit("ADD_HANDLER",{text:"Ошибка получения данных... "+e,classes:"error"})}))}},oe=ie,re=(s("e8b2"),Object(m["a"])(oe,te,ee,!1,null,"2ba90e91",null)),ce=re.exports,le=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("main",[s("page",{staticClass:"create_order-page"},[s("div",{staticClass:"content"},[s("window",[s("header",[s("div",{staticClass:"flex justify-content-beetwen"},[s("h3",[t._v("Выберите необходимые параметры")])])]),s("div",{staticClass:"main"},[s("div",[s("custom-field",{attrs:{v:t.$v.namePurchase},scopedSlots:t._u([{key:"title",fn:function(){return[s("span",{staticClass:"title"},[t._v("Наименование объекта закупки")])]},proxy:!0}]),model:{value:t.$v.namePurchase.$model,callback:function(e){t.$set(t.$v.namePurchase,"$model","string"===typeof e?e.trim():e)},expression:"$v.namePurchase.$model"}}),s("div",{staticClass:"items"},[s("span",{staticClass:"title"},[t._v("Кол-во товара")]),s("div",{staticClass:"delimiter"},[s("div",{staticClass:"item"},[s("custom-field",{attrs:{mask:"####",placeholder:"0",v:t.$v.quantity},model:{value:t.$v.quantity.$model,callback:function(e){t.$set(t.$v.quantity,"$model","string"===typeof e?e.trim():e)},expression:"$v.quantity.$model"}})],1),s("div",{staticClass:"item"},[s("v-select",{class:["input-custom",t.$v.unit.$error?"invalid":""],attrs:{option:t.units},model:{value:t.unit,callback:function(e){t.unit=e},expression:"unit"}})],1)])]),s("custom-field",{attrs:{money:!0,v:t.$v.startMaxPrice},scopedSlots:t._u([{key:"title",fn:function(){return[s("span",{staticClass:"title"},[t._v("Начальная максимальная цена")])]},proxy:!0}]),model:{value:t.$v.startMaxPrice.$model,callback:function(e){t.$set(t.$v.startMaxPrice,"$model","string"===typeof e?e.trim():e)},expression:"$v.startMaxPrice.$model"}}),s("div",{staticClass:"items"},[s("span",{staticClass:"title"},[t._v("Размер обеспечения исполнения контракта")]),s("div",{staticClass:"delimiter"},[s("div",{staticClass:"item"},[s("label",{staticClass:"input-custom"},[s("currency-input",{class:{invalid:t.$v.executionSize.$error},attrs:{placeholder:"0"},on:{change:t.thisExecSize},model:{value:t.$v.executionSize.$model,callback:function(e){t.$set(t.$v.executionSize,"$model",e)},expression:"$v.executionSize.$model"}})],1)]),s("div",{staticClass:"item"},[s("label",{staticClass:"input-custom"},[s("currency-input",{class:{invalid:t.$v.executionPercent.$error},attrs:{"value-range":{min:0,max:999},currency:{suffix:"%"},placeholder:"%"},on:{change:t.thisExecPercent},model:{value:t.$v.executionPercent.$model,callback:function(e){t.$set(t.$v.executionPercent,"$model",e)},expression:"$v.executionPercent.$model"}})],1)])])]),s("custom-field",{attrs:{type:"date",placeholder:"дд.мм.гггг",v:t.$v.deliveryTime},scopedSlots:t._u([{key:"title",fn:function(){return[s("span",{staticClass:"title"},[t._v("Срок поставки")])]},proxy:!0}]),model:{value:t.$v.deliveryTime.$model,callback:function(e){t.$set(t.$v.deliveryTime,"$model","string"===typeof e?e.trim():e)},expression:"$v.deliveryTime.$model"}}),s("custom-field",{attrs:{placeholder:"Введите адрес",v:t.$v.deliveryAddress},scopedSlots:t._u([{key:"title",fn:function(){return[s("span",{staticClass:"title"},[t._v("Место поставки товара")])]},proxy:!0}]),model:{value:t.$v.deliveryAddress.$model,callback:function(e){t.$set(t.$v.deliveryAddress,"$model","string"===typeof e?e.trim():e)},expression:"$v.deliveryAddress.$model"}})],1),s("div",[s("label",{staticClass:"input-custom"},[s("span",{staticClass:"title"},[t._v("Преимущества, предоставляемые в соответствии со ст.28 - 30 Закона о контрактной системе")]),s("div",{staticClass:"checked"},t._l(t.advantages,(function(e){return s("div",{key:e.id,staticClass:"checkbox-custom"},[s("label",[s("input",{directives:[{name:"model",rawName:"v-model",value:t.formAdvantages.data[e.id],expression:"formAdvantages.data[advantage.id]"}],attrs:{type:"checkbox",hidden:""},domProps:{value:e.id,checked:Array.isArray(t.formAdvantages.data[e.id])?t._i(t.formAdvantages.data[e.id],e.id)>-1:t.formAdvantages.data[e.id]},on:{change:function(s){var a=t.formAdvantages.data[e.id],n=s.target,i=!!n.checked;if(Array.isArray(a)){var o=e.id,r=t._i(a,o);n.checked?r<0&&t.$set(t.formAdvantages.data,e.id,a.concat([o])):r>-1&&t.$set(t.formAdvantages.data,e.id,a.slice(0,r).concat(a.slice(r+1)))}else t.$set(t.formAdvantages.data,e.id,i)}}}),s("div",{staticClass:"checkbox"}),s("span",{staticClass:"title"},[t._v(t._s(e.name)),s("br"),s("small",[t._v(t._s(e.description))])])])])})),0)]),s("div",{staticClass:"input-custom"},[s("span",{staticClass:"title"},[t._v("Способ закупки")]),s("v-select",{class:["input-custom",t.$v.method.$error?"invalid":""],attrs:{option:t.methods},model:{value:t.method,callback:function(e){t.method=e},expression:"method"}})],1),s("label",{staticClass:"input-custom"},[s("span",{staticClass:"title"},[t._v("Документы")]),s("p",{staticClass:"color-green load mt-5",on:{click:function(e){t.showLoadPhotoModal=!0}}},[s("i",{staticClass:"icon icon-upload"}),t._v("Прикрепите документы")])]),s("div",{staticClass:"button-block"},[s("button",{staticClass:"btn btn-green",attrs:{disabled:!!t.submitClick},on:{click:t.create}},[t._v(" Добавить закупку ")])])])])])],1)]),s("modal",{attrs:{showModal:t.showLoadPhotoModal},on:{close:function(e){t.showLoadPhotoModal=!1}},scopedSlots:t._u([{key:"title",fn:function(){return[s("h3",[t._v("Выберите документы и нажмите загрузить")])]},proxy:!0},{key:"content",fn:function(){return[s("div",{staticClass:"to-2"},[s("input",{attrs:{type:"file",name:"photo"}}),s("button",{staticClass:"btn btn-green ml-5"},[t._v("Загрузить")])])]},proxy:!0}])})],1)},ue=[],de=(s("acd8"),s("b499")),me=s.n(de),pe=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("label",{staticClass:"input-custom"},[t._t("title"),t.mask?s("the-mask",{class:{invalid:t.v.$error},attrs:{mask:t.mask,type:t.type,placeholder:t.placeholder,value:t.value},on:{input:t.handler}}):t.money?s("currency-input",{class:{invalid:t.v.$error},attrs:{placeholder:t.placeholder,value:t.value},on:{input:t.handler}}):s("input",{class:{invalid:t.v.$error},attrs:{type:t.type,placeholder:t.placeholder},domProps:{value:t.value},on:{input:function(e){return t.handler(e.target.value)}}}),t._t("errors",[s("div",[t.v.hasOwnProperty("minLength")&&!t.v.minLength?s("p",{staticClass:"error"},[t._v("* Необходимо ввести не менее "+t._s(t.v.$params.minLength.min)+" символов")]):t._e(),t.v.hasOwnProperty("maxLength")&&!t.v.maxLength?s("p",{staticClass:"error"},[t._v("* Необходимо ввести не более "+t._s(t.v.$params.maxLength.max)+" символов")]):t._e(),t.v.hasOwnProperty("numeric")&&!t.v.numeric?s("p",{staticClass:"error"},[t._v("* Разрешены только целые числа")]):t._e(),t.v.hasOwnProperty("decimal")&&!t.v.decimal?s("p",{staticClass:"error"},[t._v("* Разрешены только нецелые числа")]):t._e(),t.v.hasOwnProperty("maxValue")&&!t.v.maxValue?s("p",{staticClass:"error"},[t._v("* Число не может быть больще "+t._s(t.v.$params.maxLength.max))]):t._e(),t.v.hasOwnProperty("minValue")&&!t.v.minValue?s("p",{staticClass:"error"},[t._v("* Число не может быть меньше "+t._s(t.v.$params.minValue.min))]):t._e(),t.v.hasOwnProperty("between")&&!t.v.between?s("p",{staticClass:"error"},[t._v("* Число не должно быть больше "+t._s(t.v.$params.between.max)+" и меньше "+t._s(t.v.$params.between.min))]):t._e()])])],2)},ve=[],he={name:"CustomField",model:{prop:"value",event:"input"},props:{type:{type:String,default:"text"},value:{type:String||Number},placeholder:{type:String},v:{type:Object},mask:{type:String},money:{type:Boolean}},data:function(){return{content:this.value,moneyPayload:{decimal:",",thousands:".",prefix:"R$ ",suffix:" #",precision:2,masked:!1}}},methods:{handler:function(t){this.$emit("input",t)}}},fe=he,_e=(s("69f5"),Object(m["a"])(fe,pe,ve,!1,null,"61333c25",null)),ge=_e.exports,$e={name:"CreatePurchase",components:{Window:Y,Page:yt,CustomField:ge,Modal:ft,vSelect:me.a},data:function(){return{showLoadPhotoModal:!1,submitClick:!1,clicks:0,units:[],methods:[],advantages:[],unit:{},method:{},namePurchase:"",quantity:0,startMaxPrice:0,executionSize:0,executionPercent:0,deliveryTime:"",deliveryAddress:"",formAdvantages:{data:[]}}},validations:{namePurchase:{required:B["required"],minLength:Object(B["minLength"])(3),maxLength:Object(B["maxLength"])(32)},method:{required:B["required"]},unit:{required:B["required"]},quantity:{numeric:B["numeric"],required:B["required"],between:Object(B["between"])(0,9999)},startMaxPrice:{required:B["required"]},executionSize:{required:B["required"]},executionPercent:{required:B["required"],between:Object(B["between"])(0,999)},deliveryTime:{required:B["required"]},deliveryAddress:{required:B["required"],maxLength:Object(B["maxLength"])(128)}},mounted:function(){var t=this;f.a.get("handbook/purchase/units").then((function(e){for(var s=[],a=0;a<e.data.length;a++)s.push({label:e.data[a].name,value:e.data[a].id});t.units=s})),f.a.get("handbook/purchase/methods").then((function(e){for(var s=[],a=0;a<e.data.length;a++)s.push({label:e.data[a].name,value:e.data[a].id});t.methods=s})),f.a.get("handbook/purchase/advantages").then((function(e){return t.advantages=e.data}))},methods:{thisExecPercent:function(){this.$v.startMaxPrice.$invalid?this.$v.startMaxPrice.$touch():this.$v.executionSize.$model=this.$v.startMaxPrice.$model/100*this.$v.executionPercent.$model},thisExecSize:function(){this.$v.startMaxPrice.$invalid?this.$v.startMaxPrice.$touch():this.$v.executionPercent.$model=100*this.$v.executionSize.$model/this.$v.startMaxPrice.$model},create:function(){var t=this;if(this.$v.$touch(),this.$store.dispatch("CLEAR_HANDLERS"),this.clicks<=0){if(!this.$v.$invalid){this.submitClick=!0;var e=[];for(var s in this.formAdvantages.data)e.push(s);f.a.post("purchase",{name:this.$v.namePurchase.$model,initial_maximum_contract_price:parseFloat(this.$v.startMaxPrice.$model),delivery_time:this.$v.deliveryTime.$model,delivery_address:this.$v.deliveryAddress.$model,execution_size:parseFloat(this.$v.executionSize.$model),execution_percent:parseFloat(this.$v.executionPercent.$model),quantity:this.$v.quantity.$model,unit_id:this.unit.value,method_id:this.method.value,advantages:JSON.stringify(e)}).then((function(){t.clicks++,t.$store.commit("ADD_HANDLER",{text:"Поздравляем, Вы создали новую закупку",classes:"success"}),t.submitClick=!1,new Promise((function(){setTimeout((function(){t.clicks=0}),9e3)}))})).catch((function(e){t.$store.commit("ADD_HANDLER",{text:"Ошибка... "+e,classes:"error"}),t.submitClick=!1}))}}else this.$store.commit("ADD_HANDLER",{text:"Слишком много попыток создания закупки. Попробуйте заново через несколько секунд.",classes:"error"})}}},be=$e,xe=(s("15da"),Object(m["a"])(be,le,ue,!1,null,"542f556e",null)),ye=xe.exports,Ce=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("main",[s("page",{staticClass:"create_order-page"},[s("div",{staticClass:"content"},[t.isLoaded?s("window",[s("header",[s("div",{staticClass:"flex justify-content-beetwen"},[s("h3",[t._v("Выберите необходимые параметры")])])]),s("div",{staticClass:"main"},[s("div",[s("custom-field",{attrs:{v:t.$v.name},scopedSlots:t._u([{key:"title",fn:function(){return[s("span",{staticClass:"title"},[t._v("Наименование объекта закупки")])]},proxy:!0}],null,!1,374844950),model:{value:t.$v.name.$model,callback:function(e){t.$set(t.$v.name,"$model","string"===typeof e?e.trim():e)},expression:"$v.name.$model"}}),s("div",{staticClass:"items"},[s("span",{staticClass:"title"},[t._v("Кол-во товара")]),s("div",{staticClass:"delimiter"},[s("div",{staticClass:"item"},[s("custom-field",{attrs:{mask:"####",placeholder:"0",v:t.$v.quantity},model:{value:t.$v.quantity.$model,callback:function(e){t.$set(t.$v.quantity,"$model","string"===typeof e?e.trim():e)},expression:"$v.quantity.$model"}})],1),s("div",{staticClass:"item"},[s("v-select",{class:["input-custom",t.$v.unit.$error?"invalid":""],attrs:{option:t.units},model:{value:t.unit,callback:function(e){t.unit=e},expression:"unit"}})],1)])]),s("custom-field",{attrs:{money:!0,v:t.$v.initial_maximum_contract_price},scopedSlots:t._u([{key:"title",fn:function(){return[s("span",{staticClass:"title"},[t._v("Начальная максимальная цена")])]},proxy:!0}],null,!1,822231815),model:{value:t.$v.initial_maximum_contract_price.$model,callback:function(e){t.$set(t.$v.initial_maximum_contract_price,"$model","string"===typeof e?e.trim():e)},expression:"$v.initial_maximum_contract_price.$model"}}),s("div",{staticClass:"items"},[s("span",{staticClass:"title"},[t._v("Размер обеспечения исполнения контракта")]),s("div",{staticClass:"delimiter"},[s("div",{staticClass:"item"},[s("label",{staticClass:"input-custom"},[s("currency-input",{class:{invalid:t.$v.execution_size.$error},attrs:{placeholder:"0"},on:{change:t.thisExecSize},model:{value:t.$v.execution_size.$model,callback:function(e){t.$set(t.$v.execution_size,"$model",e)},expression:"$v.execution_size.$model"}})],1)]),s("div",{staticClass:"item"},[s("label",{staticClass:"input-custom"},[s("currency-input",{class:{invalid:t.$v.execution_percent.$error},attrs:{"value-range":{min:0,max:999},currency:{suffix:"%"},placeholder:"%"},on:{change:t.thisExecPercent},model:{value:t.$v.execution_percent.$model,callback:function(e){t.$set(t.$v.execution_percent,"$model",e)},expression:"$v.execution_percent.$model"}})],1)])])]),s("custom-field",{attrs:{type:"date",placeholder:"дд.мм.гггг",v:t.$v.delivery_time},scopedSlots:t._u([{key:"title",fn:function(){return[s("span",{staticClass:"title"},[t._v("Срок поставки")])]},proxy:!0}],null,!1,150941895),model:{value:t.$v.delivery_time.$model,callback:function(e){t.$set(t.$v.delivery_time,"$model","string"===typeof e?e.trim():e)},expression:"$v.delivery_time.$model"}}),s("custom-field",{attrs:{placeholder:"Введите адрес",v:t.$v.delivery_address},scopedSlots:t._u([{key:"title",fn:function(){return[s("span",{staticClass:"title"},[t._v("Место поставки товара")])]},proxy:!0}],null,!1,1113294200),model:{value:t.$v.delivery_address.$model,callback:function(e){t.$set(t.$v.delivery_address,"$model","string"===typeof e?e.trim():e)},expression:"$v.delivery_address.$model"}})],1),s("div",[s("label",{staticClass:"input-custom"},[s("span",{staticClass:"title"},[t._v("Преимущества, предоставляемые в соответствии со ст.28 - 30 Закона о контрактной системе")]),s("div",{staticClass:"checked"},t._l(t.advantages,(function(e){return s("div",{key:e.id,staticClass:"checkbox-custom"},[s("label",[s("input",{directives:[{name:"model",rawName:"v-model",value:t.formAdvantages.data[e.id],expression:"formAdvantages.data[advantage.id]"}],attrs:{type:"checkbox",hidden:""},domProps:{value:e.id,checked:Array.isArray(t.formAdvantages.data[e.id])?t._i(t.formAdvantages.data[e.id],e.id)>-1:t.formAdvantages.data[e.id]},on:{change:function(s){var a=t.formAdvantages.data[e.id],n=s.target,i=!!n.checked;if(Array.isArray(a)){var o=e.id,r=t._i(a,o);n.checked?r<0&&t.$set(t.formAdvantages.data,e.id,a.concat([o])):r>-1&&t.$set(t.formAdvantages.data,e.id,a.slice(0,r).concat(a.slice(r+1)))}else t.$set(t.formAdvantages.data,e.id,i)}}}),s("div",{staticClass:"checkbox"}),s("span",{staticClass:"title"},[t._v(t._s(e.name)),s("br"),s("small",[t._v(t._s(e.description))])])])])})),0)]),s("div",{staticClass:"input-custom"},[s("span",{staticClass:"title"},[t._v("Способ закупки")]),s("v-select",{class:["input-custom",t.$v.method.$error?"invalid":""],attrs:{option:t.methods},model:{value:t.method,callback:function(e){t.method=e},expression:"method"}})],1),s("label",{staticClass:"input-custom"},[s("span",{staticClass:"title"},[t._v("Документы")]),s("p",{staticClass:"color-green load mt-5",on:{click:function(e){t.showLoadPhotoModal=!0}}},[s("i",{staticClass:"icon icon-upload"}),t._v("Прикрепите документы")])]),s("div",{staticClass:"button-block"},[s("button",{staticClass:"btn btn-green-outline",attrs:{disabled:!!t.submitClick},on:{click:t.create}},[t._v(" Сохранить изменения ")])])])])]):t._e()],1)]),s("modal",{attrs:{showModal:t.showLoadPhotoModal},on:{close:function(e){t.showLoadPhotoModal=!1}},scopedSlots:t._u([{key:"title",fn:function(){return[s("h3",[t._v("Выберите документы и нажмите загрузить")])]},proxy:!0},{key:"content",fn:function(){return[s("div",{staticClass:"to-2"},[s("input",{attrs:{type:"file",name:"photo"}}),s("button",{staticClass:"btn btn-green ml-5"},[t._v("Загрузить")])])]},proxy:!0}])})],1)},ke=[],we=(s("fb6a"),{name:"CreatePurchase",components:{Page:yt,Window:Y,CustomField:ge,Modal:ft,vSelect:me.a},data:function(){return{isLoaded:!1,showLoadPhotoModal:!1,submitClick:!1,clicks:0,units:[],methods:[],advantages:[],unit:{},method:{},namePurchase:"",quantity:0,initial_maximum_contract_price:0,execution_size:0,execution_percent:0,delivery_time:"",delivery_address:"",formAdvantages:{data:[]}}},validations:{name:{required:B["required"],minLength:Object(B["minLength"])(3),maxLength:Object(B["maxLength"])(32)},method:{required:B["required"]},unit:{required:B["required"]},quantity:{numeric:B["numeric"],required:B["required"],between:Object(B["between"])(0,9999)},initial_maximum_contract_price:{required:B["required"]},execution_size:{required:B["required"]},execution_percent:{required:B["required"],between:Object(B["between"])(0,999)},delivery_time:{required:B["required"]},delivery_address:{required:B["required"],maxLength:Object(B["maxLength"])(128)}},created:function(){var t=this;f.a.get("handbook/purchase/units").then((function(e){for(var s=[],a=0;a<e.data.length;a++)s.push({label:e.data[a].name,value:e.data[a].id});t.units=s})),f.a.get("handbook/purchase/methods").then((function(e){for(var s=[],a=0;a<e.data.length;a++)s.push({label:e.data[a].name,value:e.data[a].id});t.methods=s})),f.a.get("purchase/".concat(this.$route.params.user,"/").concat(this.$route.params.id)).then((function(e){t.isLoaded=!0,t.name=e.data.name,t.quantity=e.data.quantity,t.initial_maximum_contract_price=e.data.initial_maximum_contract_price,t.execution_size=e.data.execution_size,t.execution_percent=e.data.execution_percent,t.delivery_time=new Date(e.data.delivery_time).toISOString().slice(0,10),t.delivery_address=e.data.delivery_address;for(var s=0;s<e.data.advantages.length;s++)t.formAdvantages.data[e.data.advantages[s].advantage.id]=!0;t.method={label:e.data.method.name,value:e.data.method.id},t.unit={label:e.data.unit.name,value:e.data.unit.id}})),f.a.get("handbook/purchase/advantages").then((function(e){return t.advantages=e.data}))},methods:{thisExecPercent:function(){this.$v.initial_maximum_contract_price.$invalid?this.$v.initial_maximum_contract_price.$touch():this.$v.execution_size.$model=this.$v.initial_maximum_contract_price.$model/100*this.$v.execution_percent.$model},thisExecSize:function(){this.$v.initial_maximum_contract_price.$invalid?this.$v.initial_maximum_contract_price.$touch():this.$v.execution_percent.$model=100*this.$v.execution_size.$model/this.$v.initial_maximum_contract_price.$model},create:function(){var t=this;if(this.$v.$touch(),this.$store.dispatch("CLEAR_HANDLERS"),this.clicks<=0){if(!this.$v.$invalid){this.submitClick=!0;var e=[];for(var s in this.formAdvantages.data)!0===this.formAdvantages.data[s]&&e.push(s);f.a.put("purchase/".concat(this.$route.params.user,"/").concat(this.$route.params.id),{name:this.$v.name.$model,initial_maximum_contract_price:parseFloat(this.$v.initial_maximum_contract_price.$model),delivery_time:this.$v.delivery_time.$model,delivery_address:this.$v.delivery_address.$model,execution_size:parseFloat(this.$v.execution_size.$model),execution_percent:parseFloat(this.$v.execution_percent.$model),quantity:this.$v.quantity.$model,unit_id:this.unit.value,method_id:this.method.value,advantages:JSON.stringify(e)}).then((function(){t.clicks++,t.$store.commit("ADD_HANDLER",{text:"Поздравляем, Вы успешно изменили закупку",classes:"success"}),t.submitClick=!1,new Promise((function(){setTimeout((function(){t.clicks=0}),9e3)}))})).catch((function(e){t.$store.commit("ADD_HANDLER",{text:"Ошибка... "+e,classes:"error"}),t.submitClick=!1}))}}else this.$store.commit("ADD_HANDLER",{text:"Слишком много попыток сохранения изменений закупки. Попробуйте заново через несколько секунд.",classes:"error"})}}}),Le=we,Ae=(s("3165"),Object(m["a"])(Le,Ce,ke,!1,null,"5aa72265",null)),De=Ae.exports,Se=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("main",[s("page",[s("div",{staticClass:"content"},[s("div",{staticClass:"tools flex align-items-center justify-content-start"},[s("router-link",{attrs:{to:(this.$route.meta.IS_ADMIN?"/admin":"")+"/view/purchase/"+this.$route.params.user+"/"+t.$route.params.id}},[s("i",{staticClass:"icon icon-arrow-left color-green"}),t._v(" Вернуться в закупку ")])],1),t.isLoaded?s("window",[s("div",{staticClass:"table counter"},[s("div",{staticClass:"cell-items"},[s("div",{staticClass:"grid cell-titles"},[s("div",{staticClass:"cell"},[t._v("№ "),s("br"),t._v("п/п")]),s("div",{staticClass:"cell"},[t._v("Изменения")])]),t.items.histories.length>0?s("vue-custom-scrollbar",{staticClass:"inner",attrs:{tagname:"div"}},t._l(t.items.histories,(function(e){return s("div",{key:e.id,staticClass:"grid"},[s("div",{staticClass:"cell"}),s("div",{staticClass:"cell"},[t._v(t._s(e.user.surname)+" "+t._s(e.user.name)+" "+t._s(e.user.patronymic)+" - "+t._s(e.title)),s("br"),t._v(t._s(t._f("formatDate")(e.createdAt))+" ")])])})),0):s("div",[s("p",{staticClass:"not_found"},[t._v("Ничего нет...")])])],1)])]):t._e()],1)])],1)},je=[],Ee={name:"HistoryChangePurchase",components:{Window:Y,Page:yt,vueCustomScrollbar:Gt.a},data:function(){return{items:[],isLoaded:!1}},filters:{formatDate:function(t){if(t)return ne()(String(t)).format("DD.MM.YYYY в hh:mm")}},created:function(){var t=this;f.a.get("purchase/".concat(this.$route.params.user,"/").concat(this.$route.params.id)).then((function(e){t.isLoaded=!0,t.items=e.data})).catch((function(e){t.$store.commit("ADD_HANDLER",{text:"Ошибка получения данных... "+e,classes:"error"})}))}},Pe=Ee,Oe=(s("a73f"),Object(m["a"])(Pe,Se,je,!1,null,"14814504",null)),Ne=Oe.exports,Ie=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("main",[s("page",[s("window")],1)],1)},Me=[],Re={name:"chats",components:{Window:Y,Page:yt}},Te=Re,Ue=Object(m["a"])(Te,Ie,Me,!1,null,null,null),qe=Ue.exports,He=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("main",[s("page",[s("window")],1)],1)},ze=[],Ge={name:"chat",components:{Window:Y,Page:yt}},Fe=Ge,Ye=Object(m["a"])(Fe,He,ze,!1,null,null,null),Be=Ye.exports,Ke=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("main",[s("page",[s("div",{staticClass:"tools"},[s("div",{staticClass:"tool"},[s("div",{class:["search",!0===t.isSearch?"isSearch":""]},[s("div",{staticClass:"masked"}),s("label",{staticClass:"input-icon"},[s("i",{staticClass:"icon icon-search"}),s("input",{directives:[{name:"model",rawName:"v-model",value:t.search,expression:"search"}],attrs:{type:"search",placeholder:"Поиск"},domProps:{value:t.search},on:{focusin:function(e){t.isSearch=!0},focusout:function(e){t.isSearch=!1},input:function(e){e.target.composing||(t.search=e.target.value)}}})])])])]),s("window",[s("vue-custom-scrollbar",{class:["table","counter",t.isSearch?"isSearch":""],attrs:{settings:{suppressScrollY:!0},tagname:"div"}},[s("div",{staticClass:"cell-items"},[s("div",{staticClass:"grid cell-titles"},[s("div",{staticClass:"cell"},[t._v("№ "),s("br"),t._v("п/п")]),s("div",{staticClass:"cell"},[t._v("ФИО")]),s("div",{staticClass:"cell"},[t._v("Организация")]),s("div",{staticClass:"cell"},[t._v("ИНН")]),s("div",{staticClass:"cell"},[t._v("Должность")]),s("div",{staticClass:"cell"},[t._v("E-Mail")]),s("div",{staticClass:"cell"})]),t.usersFilter.length>0?s("vue-custom-scrollbar",{staticClass:"inner",attrs:{settings:{suppressScrollX:!0},tagname:"div"}},t._l(t.usersFilter,(function(e){return s("div",{key:e.id,staticClass:"grid"},[s("div",{staticClass:"cell"}),s("div",{staticClass:"cell"},[t._v(t._s(e.surname)+" "+t._s(e.name)+" "+t._s(e.patronymic))]),s("div",{staticClass:"cell"},[t._v(t._s(e.user_companies[0].name))]),s("div",{staticClass:"cell"},[t._v(t._s(e.user_companies[0].taxpayer_identification_number))]),s("div",{staticClass:"cell"},[t._v(t._s(e.position))]),s("div",{staticClass:"cell"},[t._v(t._s(e.email))]),s("div",{staticClass:"cell icons"},[s("button",{on:{click:function(s){return t.open(e.id)}}},[s("i",{staticClass:"icon icon-eye"})])])])})),0):!0===t.isLoaded?s("div",[s("p",{staticClass:"not_found"},[t._v("Ничего не найдено...")])]):t._e()],1)])],1)],1)],1)},We=[],Je={name:"AdminUsers",components:{vueCustomScrollbar:Gt.a,Window:Y,Page:yt},data:function(){return{isLoaded:!1,users:[],search:"",isSearch:!1}},methods:{open:function(t){this.$router.push("/admin/user/".concat(t))}},computed:{usersFilter:function(){var t=this;return this.users.filter((function(e){var s="".concat(e.surname," ").concat(e.name," ").concat(e.patronymic);return s.toLowerCase().includes(t.search.toLowerCase())}))}},created:function(){var t=this;f.a.get("dev/users").then((function(e){t.users=e.data,t.isLoaded=!0,console.log(e.data)})).catch((function(e){t.$store.commit("ADD_HANDLER",{text:"Ошибка получения данных... "+e,classes:"error"})}))}},Xe=Je,Ve=(s("c5b3"),Object(m["a"])(Xe,Ke,We,!1,null,"0cb3618f",null)),Qe=Ve.exports,Ze=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("main",[s("page",[s("div",{staticClass:"content"},[s("window",{staticClass:"winodw"},[s("div",[s("div",[s("div",{staticClass:"header"},[s("h3",[t._v("По системе")])]),s("div",{staticClass:"items"},[s("div",{staticClass:"input-button"},[s("label",{attrs:{for:"system-name"}},[s("span",[t._v("Название системы")])]),s("div",[s("input",{directives:[{name:"model",rawName:"v-model",value:t.system.name,expression:"system.name"}],attrs:{id:"system-name",type:"text",placeholder:"Выгодный контракт"},domProps:{value:t.system.name},on:{input:function(e){e.target.composing||t.$set(t.system,"name",e.target.value)}}}),s("button",{staticClass:"btn btn-green btn-small",on:{click:t.changeSystemData}},[s("i",{staticClass:"icon icon-ok"})])])]),s("div",{staticClass:"input-button mt-5"},[s("label",{attrs:{for:"system-phone"}},[s("span",[t._v("Номер телефона")])]),s("div",[s("input",{directives:[{name:"model",rawName:"v-model",value:t.system.phone,expression:"system.phone"}],attrs:{id:"system-phone",type:"text",placeholder:"+7(999) 99-999-99"},domProps:{value:t.system.phone},on:{input:function(e){e.target.composing||t.$set(t.system,"phone",e.target.value)}}}),s("button",{staticClass:"btn btn-green btn-small",on:{click:t.changeSystemData}},[s("i",{staticClass:"icon icon-ok"})])])]),s("div",{staticClass:"input-button mt-5"},[s("label",{attrs:{for:"system-email"}},[s("span",[t._v("Email")])]),s("div",[s("input",{directives:[{name:"model",rawName:"v-model",value:t.system.email,expression:"system.email"}],attrs:{id:"system-email",type:"text",placeholder:"example@example.com"},domProps:{value:t.system.email},on:{input:function(e){e.target.composing||t.$set(t.system,"email",e.target.value)}}}),s("button",{staticClass:"btn btn-green btn-small",on:{click:t.changeSystemData}},[s("i",{staticClass:"icon icon-ok"})])])])]),s("div",{staticClass:"items"},[t.isLoaded?s("handbook-item",{attrs:{list:t.units,name:"purchase/units"}},[t._v("Единицы измерения "),s("small",{staticClass:"color-red"},[t._v("(ЛУЧШЕ НИЧЕГО НЕ УДАЛЯТЬ В ПРОДАКШЕНЕ)")])]):t._e()],1)]),s("div",[s("div",{staticClass:"header"},[s("h3",[t._v("По пользователям")])]),s("div",{staticClass:"items"},[t.isLoaded?s("handbook-item",{attrs:{list:t.types,name:"user/types"}},[t._v("Типы пользователей "),s("small",{staticClass:"color-red"},[t._v("(ЛУЧШЕ НИЧЕГО НЕ УДАЛЯТЬ В ПРОДАКШЕНЕ)")])]):t._e()],1)]),s("div",[s("div",{staticClass:"header"},[s("h3",[t._v("По закупкам")])]),s("div",{staticClass:"items"},[t.isLoaded?s("handbook-item",{attrs:{list:t.methods,name:"purchase/methods"}},[t._v("Методы закупки "),s("small",{staticClass:"color-red"},[t._v("(ЛУЧШЕ НИЧЕГО НЕ УДАЛЯТЬ В ПРОДАКШЕНЕ)")])]):t._e()],1),s("div",{staticClass:"items"},[t.isLoaded?s("handbook-item",{attrs:{list:t.statuses,name:"purchase/statuses"}},[t._v("Статусы "),s("small",{staticClass:"color-red"},[t._v("(ЛУЧШЕ НИЧЕГО НЕ УДАЛЯТЬ В ПРОДАКШЕНЕ)")])]):t._e()],1)])])])],1)])],1)},ts=[],es=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"item"},[s("div",{staticClass:"header"},[s("h4",[t._t("default")],2)]),s("div",{staticClass:"main"},[s("div",{staticClass:"list"},t._l(t.items,(function(e){return s("div",{key:e.id,staticClass:"el"},[s("p",[t._v(t._s(e.name))]),s("div",{staticClass:"actions"},[s("button",{staticClass:"btn",on:{click:function(s){return t.remove(e.id)}}},[s("i",{staticClass:"icon icon-close color-red"})])])])})),0)]),s("div",{staticClass:"footer"},[s("label",{staticClass:"input-custom"},[s("input",{directives:[{name:"model",rawName:"v-model",value:t.value,expression:"value"}],attrs:{type:"text",placeholder:"Название..."},domProps:{value:t.value},on:{input:function(e){e.target.composing||(t.value=e.target.value)}}})]),s("button",{staticClass:"btn btn-green",on:{click:t.create}},[t._v("Создать")])])])},ss=[],as={name:"handbook-item",props:{list:{type:Array},name:{type:String}},data:function(){return{items:this.list||[],value:""}},methods:{create:function(){var t=this;this.value.length<2?this.$store.commit("ADD_HANDLER",{text:"Должно быть не менее 2 символов",classes:"error"}):this.value.length>32?this.$store.commit("ADD_HANDLER",{text:"Должно быть не более 32 символов",classes:"error"}):f.a.post("/handbook/purchase/".concat(this.name),{name:this.value}).then((function(e){t.items.push(e.data),t.value="",t.$store.commit("ADD_HANDLER",{text:"Успешно создано",classes:"success"})})).catch((function(e){return t.$store.commit("ADD_HANDLER",{text:"Ошибка... "+e,classes:"error"})}))},remove:function(t){var e=this;f.a.delete("/handbook/purchase/".concat(this.name,"/").concat(t)).then((function(){for(var s=0;s<e.items.length;s++)e.items[s].id===t&&e.items.splice(s,1);e.$store.commit("ADD_HANDLER",{text:"Успешно удалено",classes:"success"})})).catch((function(t){return e.$store.commit("ADD_HANDLER",{text:"Ошибка... "+t,classes:"error"})}))}}},ns=as,is=(s("00af"),Object(m["a"])(ns,es,ss,!1,null,"6e1085f8",null)),os=is.exports,rs={name:"AdminHandbooks",components:{HandbookItem:os,Page:yt,Window:Y},data:function(){return{isLoaded:!1,methods:[],types:[],statuses:[],units:[],system:this.$store.getters.GET_SYSTEM}},methods:{changeSystemData:function(){var t=this;f.a.post("system",null,{params:{name:this.system.name,phone:this.system.phone,email:this.system.email}}).then((function(e){t.$store.dispatch("UPDATE_SYSTEM",e.config.params),t.$store.commit("ADD_HANDLER",{text:"Успешно изменено",classes:"success"})})).catch((function(e){return t.$store.commit("ADD_HANDLER",{text:"Ошибка запроса... "+e,classes:"error"})}))}},created:function(){var t=this;f.a.get("handbook/purchase/methods").then((function(e){t.methods=e.data,f.a.get("handbook/user/types").then((function(e){t.types=e.data,f.a.get("handbook/purchase/statuses").then((function(e){t.statuses=e.data.filter((function(t){return 1!==t.id&&2!==t.id&&3!==t.id})),f.a.get("handbook/purchase/units").then((function(e){t.units=e.data,t.isLoaded=!0})).catch((function(e){return t.$store.commit("ADD_HANDLER",{text:"Ошибка получения данных... "+e,classes:"error"})}))})).catch((function(e){return t.$store.commit("ADD_HANDLER",{text:"Ошибка получения данных... "+e,classes:"error"})}))})).catch((function(e){return t.$store.commit("ADD_HANDLER",{text:"Ошибка получения данных... "+e,classes:"error"})}))})).catch((function(e){return t.$store.commit("ADD_HANDLER",{text:"Ошибка получения данных... "+e,classes:"error"})}))}},cs=rs,ls=(s("ece8"),Object(m["a"])(cs,Ze,ts,!1,null,"6b4dd8e4",null)),us=ls.exports,ds=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("main",[s("page",[s("div",{staticClass:"content"},[s("div",[s("h2",[t._v("Упс... Страница не найдена")]),s("router-link",{staticClass:"link",attrs:{to:"/"}},[t._v("На главную "),s("i",{staticClass:"icon icon-arrow-right"})])],1)])])],1)},ms=[],ps={name:"404",components:{Page:yt}},vs=ps,hs=(s("7388"),Object(m["a"])(vs,ds,ms,!1,null,"1586afca",null)),fs=hs.exports,_s=s("2f62");a["a"].use(_s["a"]);var gs=new _s["a"].Store({state:{token:localStorage.getItem("user-token")||"",refreshToken:localStorage.getItem("refresh-token")||"",status:"",user:JSON.parse(localStorage.getItem("user"))||{},url:"https://devis.su",handlers:[],system:JSON.parse(localStorage.getItem("system"))||{}},getters:{API:function(t){return t.url+"/api"},URL:function(t){return t.url},IS_LOGIN:function(t){return!!t.token},IS_ADMIN:function(t){return t.user["permission"]>=9},IS_BLOCK:function(t){return t.user["is_block"]},GET_HANDLERS:function(t){return t.handlers},GET_USER_ID:function(t){return t.user.id},GET_USER:function(t){return t.user},GET_TOKEN:function(t){return t.token},GET_REFRESH_TOKEN:function(t){return t.refreshToken},AUTH_STATUS:function(t){return t.status},GET_SYSTEM:function(t){return t.system}},mutations:{AUTH_REQUEST:function(t){return t.status="loading"},AUTH_ERROR:function(t){return t.status="error"},AUTH_SUCCESS:function(t,e,s,a){t.status="success",t.token=e,t.user=a,t.refreshToken=s},AUTH_LOGOUT:function(t){t.status="",t.token="",t.refreshToken="",t.user={}},ADD_HANDLER:function(t,e){return t.handlers.push(e)},REMOVE_HANDLER:function(t,e){return t.handlers.splice(e,1)},CLEAR_HANDLERS:function(t){return t.handlers=[]},UPDATE_USER:function(t,e){return t.user=e},UPDATE_SYSTEM:function(t,e){return t.system=e}},actions:{UPDATE_SYSTEM:function(t,e){var s=t.commit;s("UPDATE_SYSTEM",e),localStorage.setItem("system",JSON.stringify(e))},UPDATE_USER:function(t,e){var s=t.commit;s("UPDATE_USER",e),localStorage.setItem("user",JSON.stringify(e))},AUTH_REQUEST:function(t,e){var s=t.commit;return new Promise((function(t,a){s("AUTH_REQUEST"),f.a.post("login",e).then((function(e){var a=e.data.tokens.accessToken,n=e.data.tokens.refreshToken,i=JSON.stringify(e.data.user);localStorage.setItem("user-token",a),localStorage.setItem("refresh-token",n),localStorage.setItem("user",i),f.a.defaults.headers.common["Authorization"]=a,s("AUTH_SUCCESS",a,n,i),t(e)})).catch((function(t){localStorage.removeItem("user-token"),localStorage.removeItem("user"),s("AUTH_ERROR",t),a(t)}))}))},REFRESH_TOKEN:function(t){var e=t.dispatch,s=t.getters;return new Promise((function(t,a){f.a.post("refresh-tokens",{refreshToken:s.GET_REFRESH_TOKEN}).then((function(e){var s=e.data.accessToken,a=e.data.refreshToken;localStorage.setItem("user-token",s),localStorage.setItem("refresh-token",a),f.a.defaults.headers.common["Authorization"]=s,t(e)})).catch((function(t){e("AUTH_LOGOUT"),a(t)}))}))},AUTH_LOGOUT:function(t){var e=t.commit;return new Promise((function(t){localStorage.removeItem("user-token"),localStorage.removeItem("user"),delete f.a.defaults.headers.common["Authorization"],e("AUTH_LOGOUT"),t()}))}}});a["a"].use(R["a"]);var $s=[{path:"/login",name:"Авторизация",component:X,meta:{IS_GUEST:!0}},{path:"/register",name:"Регистрация",component:st,meta:{IS_GUEST:!0}},{path:"/",name:"Главный экран",component:Kt,meta:{IS_LOGIN:!0}},{path:"/account",name:"Личный кабинет",component:Ot,meta:{IS_LOGIN:!0}},{path:"/view/purchase/:user/:id",name:"Просмотр закупки",component:ce,meta:{IS_LOGIN:!0}},{path:"/create/purchase",name:"Создание новой закупки",component:ye,meta:{IS_LOGIN:!0}},{path:"/history/purchases",name:"История закупок",component:Zt,meta:{IS_LOGIN:!0}},{path:"/change/purchase/:user/:id",name:"Изменение закупки",component:De,meta:{IS_LOGIN:!0}},{path:"/history/change/purchase/:user/:id",name:"История изменений закупки",component:Ne,meta:{IS_LOGIN:!0}},{path:"/chats",name:"Чаты",component:qe,meta:{IS_LOGIN:!0}},{path:"/chat/:id",name:"Чат",component:Be,meta:{IS_LOGIN:!0}},{path:"/admin",name:"Список клиентов",component:Qe,meta:{IS_LOGIN:!0,IS_ADMIN:!0}},{path:"/admin/user/:id",name:"Профиль клиента",component:Ot,meta:{IS_LOGIN:!0,IS_ADMIN:!0}},{path:"/admin/purchases/:id",name:"Закупки пользователя",component:Kt,meta:{IS_LOGIN:!0,IS_ADMIN:!0}},{path:"/admin/history/purchases/:id",name:"История закупок пользователя",component:Zt,meta:{IS_LOGIN:!0,IS_ADMIN:!0}},{path:"/admin/purchases",name:"Все закупки",component:Kt,meta:{IS_LOGIN:!0,IS_ADMIN:!0}},{path:"/admin/view/purchase/:user/:id",name:"Просмотр закупки",component:ce,meta:{IS_LOGIN:!0,IS_ADMIN:!0}},{path:"/admin/history/change/purchase/:user/:id",name:"История изменений закупки",component:Ne,meta:{IS_LOGIN:!0,IS_ADMIN:!0}},{path:"/admin/handbooks",name:"Управление справочниками",component:us,meta:{IS_LOGIN:!0,IS_ADMIN:!0}},{path:"/admin/create/purchase",name:"Создание новой закупки",component:ye,meta:{IS_LOGIN:!0,IS_ADMIN:!0}},{path:"/admin/change/purchase/:user/:id",name:"Изменение закупки",component:De,meta:{IS_LOGIN:!0,IS_ADMIN:!0}},{path:"*",name:"404",component:fs}],bs=new R["a"]({mode:"history",base:"/",routes:$s});bs.beforeEach((function(t,e,s){if(document.title="".concat(t.name," - ").concat(gs.getters.GET_SYSTEM.name),t.matched.some((function(t){return t.meta.IS_LOGIN}))){if(gs.getters.IS_LOGIN)return t.matched.some((function(t){return t.meta.IS_ADMIN}))?gs.getters.IS_ADMIN?s():s("/"):s();s("/login")}else t.matched.some((function(t){return t.meta.IS_GUEST}))&&gs.getters.IS_LOGIN?s("/"):s()}));var xs=bs,ys=s("1dce"),Cs=s.n(ys),ks=s("3a60"),ws=s.n(ks),Ls=s("d413"),As=s("fcc3"),Ds=s.n(As);a["a"].component("v-selectize",Ds.a),a["a"].use(Cs.a),a["a"].use(ws.a),a["a"].use(Ls["a"],{globalOptions:{currency:null,distractionFree:!1,locale:"de-DE"}}),f.a.defaults.baseURL=gs.getters.API;var Ss=localStorage.getItem("user-token");Ss&&(f.a.defaults.headers.common["Authorization"]=Ss),new a["a"]({router:xs,store:gs,render:function(t){return t(M)}}).$mount("#app")},"597b":function(t,e,s){},"59fe":function(t,e,s){"use strict";var a=s("d6b5"),n=s.n(a);n.a},"5ae7":function(t,e,s){},"5c0b":function(t,e,s){"use strict";var a=s("9c0c"),n=s.n(a);n.a},"66c0":function(t,e,s){"use strict";var a=s("597b"),n=s.n(a);n.a},"69f5":function(t,e,s){"use strict";var a=s("34b7"),n=s.n(a);n.a},"6c52":function(t,e,s){"use strict";var a=s("cd73"),n=s.n(a);n.a},"706a":function(t,e,s){},"734c":function(t,e,s){"use strict";var a=s("e21d"),n=s.n(a);n.a},7388:function(t,e,s){"use strict";var a=s("be78"),n=s.n(a);n.a},"759f":function(t,e,s){},"789b":function(t,e,s){"use strict";var a=s("92d4"),n=s.n(a);n.a},"7b89":function(t,e,s){"use strict";var a=s("2c3d"),n=s.n(a);n.a},"7c2c":function(t,e){t.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACQAAAAoCAYAAACWwljjAAAABHNCSVQICAgIfAhkiAAABSRJREFUWIXFmE1SG0cUx39vNA5yNp4x7FFOgHIChhNEJOAoK0SVobKzcgJGJ0DepXCqEDvZwsX4BAwnsHSCSEvzURrvgJLmZdEz+jCyLWE5vKpZqNXz5tfvve7+dwv3sK5XzAFbgJc8qYWgTZCXblhv38e33ANkDyhN0b0GVGYFmwqo6xUcyO5/AtIBDUCaQBtiB8QDKQDL9wX7KlDXK+6BlkGcIQi+G9ZrX3inBPhDMI1AqnD90g2D6F5AXa/oAYdADkDRj4JU3bDuf20QQx+/lxV8QZ4kTW1g2w3r4dRAJj0LeyDlYau+hBv/a6ObDFVwYMEHeTHiL4Cb7Un+ZPzl8aiAtiAuuWGjOSvIXbDNPGSqwGriOwJZ/zRaMnyhWEpgUqvMkp7pwe6kcXu0HsV0elYA6yQhn1tUPg+1mQerBrJiWuJ1N3wTAFimwcoDZ8AR3HjfEwbA+L/xzOAB5NDU2owL47yt6xVzijaT9FXcsO5bDwnkhvW2IFXzS18AyNLzhodkFKCXkQ7XRNaj/pYl4hDHZ5f/bIYAzp8nOTuOtwB62n8XvXo2l7Qm29G/yc81G0tOIW6hGtk9fB7hK5JT1QCLYHHnbbmfscJMv/8eoYNqZKuczQMGTJQuvD86wDKoZwMQazmNxNLu8SqwfnWwESztNPIq6mX6MSI4lwcb7rxARu3czrYTIOxJHSTW4Qqq6qioI9+x/s/tLALoJCBVOiKyt/i88URFlhUNYtXQEmFpt7EPVjRaW/Owy0y2DbKqqp6F6llPhhHpExcU/SjCX4Iexbd2LXr1rKmwjvIzGq/FFvl5wQCcZx63z+0sF0mkHtz8Xys+InsoZxNrKDWzxKcr6/czU0OCKthdr9gGDdzwdbnrFX2MKvSAU5Jdv+sV1+C6CdnuiJ8zjAg7BX5yw3o78VVNVGOyq9NJfJ66YV0SRXHqhvVBdlIgFKzEwS/mLy0YrUIJELh24do1EiGb1s02cASQSIcOaCGJ5jJIkPhqAWuMHwIm2qX9Ixf2Yy7sLFbiIGfkh6xAXAPNA203DKKhiIqdBKKGUX6p1Yz4skqgraF2lsgN6+E0WvpDJuuc21k+2Fks84K+A903DhvNRLgvd72Ckz5GwKe785jVMKndYrAvTTYTxdj5tP3CXshfZLKc29lmsrlKYET8wGEN9KOpmWwXFtK6urP2JANqqUlxMAnEpFZbkHmf6K7OeA9BRRCRaDDLjIi/CYYfId/1Cs6I7h2M/q6SlEggSPu6Yf1O3bjh6y+tXal6TAUansAdET+NqE9mDZgZN7M5pRMHkTyAIs0HXxgXd96WRPQQoHebcR9UoDmlE8dMJlA4imrrpoYWd48Lgqwo2r462Dj6v4AyP/QPBRyAvpXxAbPbK5oT8CWB699mtqPa+syHwmnNKZ04CUzBtGgl+nu9DSMif3H3uCbmigWFtsS6PU+JMfKdAsqhiImMwtHVwcbgEmOsqJ/uNsoWsj9s0Wrv1q7MI1p3owKglcuDzbHZeWeWOTtv8rZYNWAFQJUIofwttfV05/iFgJ9GBWj1NC5NOih8dtov7TZ8hfLgyKuEqFZmSePS84anlhzK4K4AJkVlKiBIjj79Xg2R1UHjFGDmaCV7yMhOr3rWy9iltHjvBTT2AUuqJGlMwWIILKxB2FXinCilURBVOqJamjayM63UiztvS6C+yNiV3URTpQPiX7367bM3bd8MNA4WF0RSYTdmLVWpzgryTUCj5uy8ydtq7h/nsW79BxoOa9Wet6JFAAAAAElFTkSuQmCC"},"857f":function(t,e,s){t.exports=s.p+"img/user.7f439fa8.png"},"87fa":function(t,e,s){"use strict";var a=s("a588"),n=s.n(a);n.a},"8d24":function(t,e,s){},"8e87":function(t,e,s){},"92d4":function(t,e,s){},"9c0c":function(t,e,s){},a264:function(t,e,s){"use strict";var a=s("759f"),n=s.n(a);n.a},a36b:function(t,e,s){"use strict";var a=s("3e76"),n=s.n(a);n.a},a588:function(t,e,s){},a73f:function(t,e,s){"use strict";var a=s("eac8"),n=s.n(a);n.a},b2f9:function(t,e,s){},be78:function(t,e,s){},c5b3:function(t,e,s){"use strict";var a=s("5ae7"),n=s.n(a);n.a},c723:function(t,e,s){"use strict";var a=s("4ab9"),n=s.n(a);n.a},c9c0:function(t,e,s){"use strict";var a=s("cfa4"),n=s.n(a);n.a},cd73:function(t,e,s){},cf3b:function(t,e,s){"use strict";var a=s("8d24"),n=s.n(a);n.a},cfa4:function(t,e,s){},d40a:function(t,e,s){"use strict";var a=s("e25b"),n=s.n(a);n.a},d43a:function(t,e,s){},d6b5:function(t,e,s){},e21d:function(t,e,s){},e25b:function(t,e,s){},e8b2:function(t,e,s){"use strict";var a=s("706a"),n=s.n(a);n.a},eac8:function(t,e,s){},ece8:function(t,e,s){"use strict";var a=s("b2f9"),n=s.n(a);n.a}});
//# sourceMappingURL=app.6740f1de.js.map